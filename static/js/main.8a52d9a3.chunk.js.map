{"version":3,"sources":["apollo.ts","style/global-style.ts","style/theme.ts","sharedQueries.ts","components/Button/Button.tsx","components/Form/Form.tsx","components/BackArrow/BackArrow.tsx","components/Header/Header.tsx","components/Input/Input.tsx","components/Loader/Loader.tsx","routes/AddPlace/AddPlacePresenter.tsx","routes/AddPlace/AddPlaceQueries.ts","routes/AddPlace/AddPlaceContainer.tsx","components/Message/Message.tsx","routes/Chat/ChatPresenter.tsx","routes/Chat/ChatQueries.ts","routes/Chat/ChatContainer.tsx","components/PhotoInput/PhotoInput.tsx","routes/EditAccount/EditAccountPresenter.tsx","routes/EditAccount/EditAccountQueries.ts","routes/EditAccount/EditAccountContainer.tsx","routes/EmailLogin/EmailLoginPresenter.tsx","routes/EmailLogin/EmailLoginQueries.ts","routes/EmailLogin/EmailLoginContainer.tsx","mapHelpers.ts","components/AddressBar/AddressBar.tsx","routes/FindAddress/FindAddressPresenter.tsx","routes/FindAddress/FindAddressContainer.tsx","routes/FindAddress/index.tsx","components/Menu/MenuPresenter.tsx","components/Menu/MenuQueries.ts","components/Menu/MenuContainer.tsx","components/RidePopup/RidePopup.tsx","routes/Home/HomePresenter.tsx","lib/number.ts","routes/Home/HomeQueries.ts","routes/Home/HomeContainer.tsx","routes/Home/index.tsx","routes/Login/LoginPresenter.tsx","countries.ts","routes/PhoneLogin/PhoneLoginPresenter.tsx","routes/PhoneLogin/PhoneQueries.ts","routes/PhoneLogin/PhoneLoginContainer.tsx","components/Place/PlacePresenter.tsx","components/Place/PlaceQueries.ts","components/Place/PlaceContainer.tsx","routes/Places/PlacesPresenter.tsx","types/api.ts","routes/Places/PlacesContainer.tsx","routes/Ride/RidePresenter.tsx","routes/Ride/RideQueries.ts","routes/Ride/RideContainer.tsx","sharedQueries.local.ts","routes/Settings/SettingsPresenter.tsx","routes/Settings/SettingsContainer.tsx","routes/SocialLogin/SocialLoginPresenter.tsx","routes/SocialLogin/SocialLoginQueries.ts","routes/SocialLogin/SocialLoginContainer.tsx","routes/VerifyPhone/VerifyPhonePresenter.tsx","routes/VerifyPhone/VerifyPhoneQueries.ts","routes/VerifyPhone/VerifyPhoneContainer.tsx","components/App/AppPresenter.tsx","components/App/AppQueries.local.ts","components/App/AppContainer.tsx","index.tsx","images/bg.png"],"names":["getToken","token","localStorage","getItem","cache","InMemoryCache","authMiddleware","ApolloLink","operation","forward","setContext","headers","httpLink","HttpLink","uri","wsLink","WebSocketLink","options","connectionParams","reconnect","combinedLinks","split","query","getMainDefinition","kind","errorLink","onError","graphQLErrors","networkError","forEach","message","console","log","toast","error","removeItem","window","location","replace","localStateLink","withClientState","defaults","auth","__typename","isLoggedIn","Boolean","resolvers","Mutation","logUserIn","_","appCache","setItem","writeData","data","logUserOut","__","client","ApolloClient","link","from","concat","createGlobalStyle","reset","theme","blue","green","grey","yellow","USER_PROFILE","gql","MY_PLACES","Container","styled","button","Button","type","children","onClick","disabled","className","Form","onSubmit","handleSubmit","useCallback","event","preventDefault","div","BackArrow","backTo","to","width","height","xmlns","fillRule","clipRule","d","header","Title","h2","Header","title","input","props","Input","value","onChange","placeholder","name","LoaderStyle","Loader","viewBox","stroke","fill","strokeWidth","cx","cy","r","attributeName","begin","dur","values","calcMode","keyTimes","keySplines","repeatCount","ExtendedInput","ExtendedLink","Link","AddPlacePresenter","onInputChange","address","loading","pickedAddress","ADD_PLACE","AddPlaceContainer","history","state","useState","setAddress","setName","lat","lng","useMutation","addPlaceMutation","submitAddPlace","a","refetchQueries","variables","isFav","AddPlace","ok","success","push","e","target","targetName","mine","Message","text","Chat","InputCont","ChatPresenter","chatData","userData","messageText","chatContainerRef","ref","messages","map","key","id","userId","GET_CHAT","SEND_MESSAGE","SUBSCRIBE_TO_MESSAGES","ChatContainer","chatId","useParams","chatContainerEl","useRef","useQuery","useLazyQuery","getChatQuery","getChatLoading","subscribeToMore","setMessage","sendMessageMutation","useEffect","document","updateQuery","prev","subscriptionData","newObj","cloneDeep","GetChat","chat","MessageSubscription","parseInt","useLayoutEffect","current","scrollTo","body","scrollHeight","submitMessage","GetMyProfile","user","Image","label","PhotoInput","uploading","fileUrl","accept","htmlFor","src","alt","ExtendedForm","EditAccountPresenter","firstName","lastName","email","profilePhoto","onPhotoChange","UPDATE_PROFILE","EditAccountContainer","setEmail","setFirstName","setLastName","setProfilePhoto","setUploading","updateProfileMutation","handlePhoto","files","formData","FormData","append","process","String","Date","now","axios","post","response","secure_url","result","UpdateMyProfile","BackArrowExtended","EmailLoginPresenter","password","EMAIL_SIGN_IN","EmailLoginContainer","setPassword","emailSignInMutation","submitLogin","EmailSignIn","geoCode","URL","get","error_message","results","length","firstPlace","formatted_address","geometry","reverseGeoCode","AddressBar","onBlur","Map","Center","ExtendedButton","FindAddressPresenter","mapRef","onAddressBlur","onAddressChange","onPickPlace","role","aria-label","FindAddressContainer","google","handleDragEnd","mapObj","latitude","getCenter","longitude","reverseGeocodeAddress","loadMap","mapConfig","center","disableDefaultUI","zoom","maps","addListener","handleGeoSuccess","position","coords","handleGeoError","handleAddressBlur","panTo","LatLng","navigator","geolocation","getCurrentPosition","reversedAddress","GoogleApiWrapper","apiKey","SLink","img","Name","Rating","h5","Text","span","Grid","ToggleDriving","isDriving","MenuPresenter","toggleDrivingFn","handleToggleDriving","fullName","TOGGLE_DRIVING","MenuContainer","update","ToggleDrivingMode","readQuery","writeQuery","h4","Data","Img","Passenger","RidePopUp","pickUpAddress","dropOffAddress","price","distance","duration","passengerName","passengerPhoto","acceptRideFn","MenuButton","RequestButton","HomePresenter","isMenuOpen","toggleMenu","toAddress","onAddressSubmit","onRequestRide","isDriver","nearbyRide","onAcceptRide","sidebar","open","onSetOpen","styles","backgroundColor","zIndex","toString","passenger","REPORT_LOCATION","GET_NEARBY_DRIVERS","REQUEST_RIDE","GET_NEARBY_RIDE","ACCEPT_RIDE","SUBSCRIBE_NEARBY_RIDES","HomeContainer","userMarker","toMarker","setIsMenuOpen","userProfileData","setToAddress","fromAddress","setFromAddress","directions","pendingDirections","setPendingDirections","setDistance","setDuration","reportMovementMutation","pollInterval","getDriversQuery","driversData","driversMarker","requestRideMutation","requestRideLoading","getNearbyRideQuery","nearbyRideData","nearbyRideSubscribe","setIsDriver","acceptRideMutation","acceptRideLoading","GetNearByRide","ride","NearByRideSubscription","drivers","GetNearbyDrivers","driver","lastLat","lastLng","existingDriver","find","marker","setPosition","markerOptions","icon","path","SymbolPath","BACKWARD_CLOSED_ARROW","scale","newMarker","Marker","set","setMap","useMemo","parseFloat","userMarkerConfig","CIRCLE","handleGeoWatchSuccess","latLng","handleGeoWatchError","watchPosition","enableHighAccuracy","submitAddress","toMarkerConfig","bounds","LatLngBounds","extend","getPosition","fitBounds","createPath","fromLatLng","toLatLng","DirectionsRenderer","polylineOptions","strokeColor","suppressMarkers","directionsService","DirectionsService","directionsOptions","destination","origin","travelMode","TravelMode","TRANSIT","route","status","DirectionsStatus","OK","routes","legs","distanceText","durationText","setDirections","submitRequestRide","fromLat","fromLng","toLat","toLng","dropOffLat","dropOffLng","pickUpLat","pickUpLng","RequestRide","warn","handleAcceptRide","rideId","UpdateRideStatus","bgImage","Logo","h1","Footer","Subtitle","FakeInput","PhoneLogin","Grey","SocialLogin","SocialLink","LoginPresenter","countries","dial_code","code","flag","CountrySelect","select","CountryOption","option","form","PhoneLoginPresenter","countryCode","phoneNumber","country","index","PHONE_SIGN_IN","PhoneLoginContainer","useHistory","setCountryCode","setPhoneNumber","fullPhoneNumber","mutation","test","StartPhoneVerification","pathname","PlaceWrapper","Icon","Address","PlacePresenter","fav","onClickFav","EDIT_PLACE","PlaceContainer","placeId","editPlaceMutation","handleFav","EditPlace","myPlacesQuery","places","GetMyPlaces","findIndex","p","StatusOption","PlacesPresenter","Fragment","place","PlacesContainer","Buttons","RidePresenter","rideData","updateRide","isPassenger","ONROUTE","FINISHED","GET_RIDE","RIDE_SUBSCRIPTION","UPDATE_RIDE_STATUS","RideContainer","skip","rideUpdateMutation","GetRide","RideStatusSubscription","href","handleUpdateRide","intRideId","LOG_USER_IN","LOG_USER_OUT","GridLink","Keys","Key","FakeLink","SettingsPresenter","placesData","userDataLoading","placesDataLoading","SettingsContainer","logoutMutation","userLoading","placesLoading","SocialLoginPresenter","loginCallback","appId","fields","callback","render","renderProps","FACEBOOK_CONNECT","SocialLoginContainer","facebookMutation","loginMutation","handleFacebookConnect","userInfo","accessToken","fbId","userID","FacebookConnect","VerifyPhonePresenter","verificationKey","VERIFY_PHONE","VerifyPhoneContainer","setKey","verifyMutation","CompletePhoneVerification","LoggedOutRoutes","exact","component","Login","VerifyPhone","EmailLogin","LoggedInRoutes","Home","Ride","EditAccount","Settings","Places","FindAddress","AppPresenter","IS_LOGGED_IN","AppContainer","draggable","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8a52d9a3.chunk.js","sourcesContent":["import { InMemoryCache } from 'apollo-cache-inmemory';\nimport { ApolloClient } from 'apollo-client';\nimport { ApolloLink, concat, Operation, split } from 'apollo-link';\nimport { onError } from 'apollo-link-error';\nimport { HttpLink } from 'apollo-link-http';\nimport { withClientState } from 'apollo-link-state';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { getMainDefinition } from 'apollo-utilities';\nimport { toast } from 'react-toastify';\n\nexport interface ILogUserInVariables {\n  token: string;\n}\n\nconst getToken = () => {\n  const token = localStorage.getItem('jwt');\n  if (token) {\n    return token;\n  } else {\n    return '';\n  }\n};\n\nconst cache = new InMemoryCache();\n\nconst authMiddleware = new ApolloLink((operation: Operation, forward: any) => {\n  operation.setContext({\n    headers: {\n      'X-JWT': getToken(),\n    },\n  });\n  return forward(operation);\n});\n\nconst httpLink = new HttpLink({\n  uri: 'https://192.168.219.136:4000/graphql',\n});\n\nconst wsLink = new WebSocketLink({\n  options: {\n    connectionParams: {\n      'X-JWT': getToken(),\n    },\n    reconnect: true,\n  },\n  uri: 'wss://192.168.219.136:4000/subscription',\n});\n\nconst combinedLinks = split(\n  ({ query }) => {\n    const { kind, operation }: any = getMainDefinition(query);\n    return kind === 'OperationDefinition' && operation === 'subscription';\n  },\n  wsLink,\n  httpLink,\n);\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors) {\n    graphQLErrors.forEach(({ message }) => {\n      console.log(message);\n      if (message === 'No JWT. I refuse to proceed') {\n        toast.error(`Unexpected error: ${message}`);\n        localStorage.removeItem('jwt');\n        window.location.replace('/');\n      }\n    });\n  }\n  if (networkError) {\n    toast.error(`Network error: ${networkError}`);\n  }\n});\n\nconst localStateLink = withClientState({\n  cache,\n  defaults: {\n    auth: {\n      __typename: 'Auth',\n      isLoggedIn: Boolean(localStorage.getItem('jwt')),\n    },\n  },\n  resolvers: {\n    Mutation: {\n      logUserIn: (_: any, { token }: any, { cache: appCache }: any) => {\n        localStorage.setItem('jwt', token);\n        appCache.writeData({\n          data: {\n            auth: {\n              __typename: 'Auth',\n              isLoggedIn: true,\n            },\n          },\n        });\n        return null;\n      },\n      logUserOut: (_: any, __: any, { cache: appCache }: any) => {\n        localStorage.removeItem('jwt');\n        appCache.writeData({\n          data: {\n            auth: {\n              __typename: 'Auth',\n              isLoggedIn: false,\n            },\n          },\n        });\n        return null;\n      },\n    },\n  },\n});\n\nconst client = new ApolloClient({\n  cache,\n  link: ApolloLink.from([\n    errorLink,\n    localStateLink,\n    concat(authMiddleware, combinedLinks),\n  ]),\n});\n\nexport default client;\n","import { createGlobalStyle } from 'styled-components';\nimport reset from 'styled-reset';\n\nexport default createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css?family=Maven+Pro&display=swap');\n  ${reset}\n  * {\n    box-sizing: border-box;\n  }\n  body {\n    font-family: -apple-system,system-ui,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif;\n  }\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n  input,\n  button {\n    &:focus,\n    &:active {\n      outline: 0;\n    }\n  }\n   h1,h2,h3,h4,h5,h6{\n      font-family:'Maven Pro', sans-serif;\n  }\n`;","import { DefaultTheme } from 'styled-components';\n\nconst theme: DefaultTheme = {\n  blue: '#3498db',\n  green: '#1abc9c',\n  grey: '#7f8c8d',\n  yellow: '#f1c40f',\n};\n\nexport { theme };\n","import { gql } from 'apollo-boost';\n\nexport const USER_PROFILE = gql`\n    query userProfile {\n        GetMyProfile {\n            ok\n            error\n            user {\n                id\n                firstName\n                lastName\n                email\n                profilePhoto\n                fullName\n                isDriving\n            }\n        }\n    }\n`;\n\nexport const MY_PLACES = gql`\n    query myPlaces {\n        GetMyPlaces {\n            ok\n            error\n            places {\n                id\n                name\n                address\n                isFav\n            }\n        }\n    }\n`;","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.button`\n  width: 100%;\n  background-color: black;\n  color: white;\n  text-transform: uppercase;\n  padding: 15px 0;\n  font-size: 16px;\n  border: 0;\n  cursor: pointer;\n  font-weight: 500;\n  text-align: center;\n  &:active,\n  &:focus {\n    outline: none;\n  }\n  &:disabled {\n    opacity: 0.8;\n  }\n`;\n\ninterface IProps {\n  type?: 'button' | 'submit';\n  children: any;\n  onClick?: any;\n  disabled?: boolean;\n  className?: string;\n}\n\nconst Button: React.FunctionComponent<IProps> = ({\n  type = 'button',\n  children,\n  onClick,\n  disabled = false,\n  className,\n}) => (\n  <Container type={type} disabled={disabled} onClick={onClick} className={className}>\n    {children}\n  </Container>\n);\n\nexport default Button;\n","import React, { FormEvent, FormEventHandler, useCallback } from 'react';\n\ninterface IProps {\n  children: any;\n  onSubmit: (event: FormEvent<HTMLFormElement>) => void;\n  className?: string;\n}\n\nconst Form: React.FunctionComponent<IProps> = ({\n  children,\n  onSubmit,\n  className,\n}) => {\n  const handleSubmit: FormEventHandler<HTMLFormElement> = useCallback(\n    event => {\n      event.preventDefault();\n      onSubmit(event);\n    },\n    [onSubmit],\n  );\n\n  return (\n    <form className={className} onSubmit={handleSubmit}>\n      {children}\n    </form>\n  );\n};\n\nexport default Form;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  transform: scale(0.8);\n`;\n\ninterface IProps {\n  backTo: string;\n  className?: string;\n}\n\nconst BackArrow: React.SFC<IProps> = ({ backTo, className }) => (\n  <Container className={className}>\n    <Link to={backTo}>\n      <svg\n        width=\"24\"\n        height=\"24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n      >\n        <path d=\"M20 .755l-14.374 11.245 14.374 11.219-.619.781-15.381-12 15.391-12 .609.755z\" />\n      </svg>\n    </Link>\n  </Container>\n);\n\nexport default BackArrow;\n","import React from 'react';\nimport styled from 'styled-components';\nimport BackArrow from '../BackArrow';\n\nconst Container = styled.header`\n  background-color: black;\n  color: white;\n  display: flex;\n  height: 50px;\n  font-size: 20px;\n  font-weight: 300;\n  align-items: center;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\n  & svg {\n    fill: white;\n  }\n  margin-bottom: 50px;\n  padding: 0 10px;\n`;\n\nconst Title = styled.h2`\n  margin-left: 10px;\n`;\n\ninterface IProps {\n  title: string;\n  backTo?: string;\n}\n\nconst Header: React.SFC<IProps> = ({ title, backTo }) => (\n  <Container>\n    {backTo && <BackArrow backTo={backTo} />}\n    <Title>{title}</Title>\n  </Container>\n);\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.input`\n  border: none;\n  border-bottom: 2px solid ${props => props.theme.grey};\n  font-size: 20px;\n  width: 100%;\n  padding-bottom: 10px;\n  font-weight: 500;\n  transition: border-bottom 0.1s linear;\n  &:-webkit-autofill {\n    box-shadow: 0 0 0 1000px white inset !important;\n  }\n  &:focus {\n    border-bottom-color: #2c3e50;\n    outline: none;\n  }\n  &::placeholder {\n    color: ${props => props.theme.grey};\n    font-weight: 300;\n  }\n`;\n\ninterface IProps {\n  value: string;\n  onChange: any;\n  type?: string;\n  name?: string;\n  required?: boolean;\n  placeholder?: string;\n  className?: string;\n}\n\nconst Input: React.FunctionComponent<IProps> = ({\n  value,\n  onChange,\n  className,\n  placeholder,\n  type = 'text',\n  name = '',\n}) => (\n  <Container\n    type={type}\n    value={value}\n    name={name}\n    className={className}\n    placeholder={placeholder}\n    onChange={onChange}\n  />\n);\n\nexport default Input;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst LoaderStyle = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 10000;\n  background: rgba(0, 0, 0, 0.3);\n\n  .spinner {\n    position: absolute;\n    z-index: 10;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n`;\n\nconst Loader = () => {\n  return (\n    <LoaderStyle>\n      <div className=\"spinner\">\n        <svg width=\"44\" height=\"44\" viewBox=\"0 0 44 44\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\">\n          <g fill=\"none\" fillRule=\"evenodd\" strokeWidth=\"2\">\n            <circle cx=\"22\" cy=\"22\" r=\"1\">\n              <animate attributeName=\"r\"\n                       begin=\"0s\" dur=\"1.8s\"\n                       values=\"1; 20\"\n                       calcMode=\"spline\"\n                       keyTimes=\"0; 1\"\n                       keySplines=\"0.165, 0.84, 0.44, 1\"\n                       repeatCount=\"indefinite\" />\n              <animate attributeName=\"stroke-opacity\"\n                       begin=\"0s\" dur=\"1.8s\"\n                       values=\"1; 0\"\n                       calcMode=\"spline\"\n                       keyTimes=\"0; 1\"\n                       keySplines=\"0.3, 0.61, 0.355, 1\"\n                       repeatCount=\"indefinite\" />\n            </circle>\n            <circle cx=\"22\" cy=\"22\" r=\"1\">\n              <animate attributeName=\"r\"\n                       begin=\"-0.9s\" dur=\"1.8s\"\n                       values=\"1; 20\"\n                       calcMode=\"spline\"\n                       keyTimes=\"0; 1\"\n                       keySplines=\"0.165, 0.84, 0.44, 1\"\n                       repeatCount=\"indefinite\" />\n              <animate attributeName=\"stroke-opacity\"\n                       begin=\"-0.9s\" dur=\"1.8s\"\n                       values=\"1; 0\"\n                       calcMode=\"spline\"\n                       keyTimes=\"0; 1\"\n                       keySplines=\"0.3, 0.61, 0.355, 1\"\n                       repeatCount=\"indefinite\" />\n            </circle>\n          </g>\n        </svg>\n      </div>\n    </LoaderStyle>\n  );\n};\n\nexport default Loader;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Button from '../../components/Button';\nimport Form from '../../components/Form';\nimport Header from '../../components/Header';\nimport Input from '../../components/Input';\nimport Loader from '../../components/Loader';\n\nconst Container = styled.div`\n  padding: 0 40px;\n`;\n\nconst ExtendedInput = styled(Input)`\n  margin-bottom: 40px;\n`;\n\nconst ExtendedLink = styled(Link)`\n  text-decoration: underline;\n  margin-bottom: 20px;\n  display: block;\n`;\n\ninterface IProps {\n  address: string;\n  name: string;\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  loading: boolean;\n  onSubmit: () => void;\n  pickedAddress: boolean;\n}\n\nconst AddPlacePresenter: React.SFC<IProps> = ({\n  onInputChange,\n  address,\n  name,\n  loading,\n  onSubmit,\n  pickedAddress,\n}) => (\n  <>\n    <Helmet>\n      <title>Add Place | Nuber</title>\n    </Helmet>\n    <Header title={'Add Place'} backTo={'/'} />\n    <Container>\n      <Form onSubmit={onSubmit}>\n        <ExtendedInput\n          placeholder={'Name'}\n          name={'name'}\n          type={'text'}\n          onChange={onInputChange}\n          value={name}\n        />\n        <ExtendedInput\n          placeholder={'Address'}\n          name={'address'}\n          type={'text'}\n          onChange={onInputChange}\n          value={address}\n        />\n        <ExtendedLink to={'/find-address'}>Pick place from map</ExtendedLink>\n        {pickedAddress && (\n          <Button onClick={onSubmit}>\n            {loading ? 'Adding place' : 'Add Place'}\n          </Button>\n        )}\n      </Form>\n      {loading && <Loader />}\n    </Container>\n  </>\n);\n\nexport default AddPlacePresenter;\n","import { gql } from 'apollo-boost';\n\nexport const ADD_PLACE = gql`\n    mutation addPlace(\n      $name: String!\n      $lat: Float!\n      $lng: Float!\n      $address: String!\n      $isFav: Boolean!\n    ) {\n        AddPlace(\n            name: $name\n            lat: $lat\n            lng: $lng\n            address: $address\n            isFav: $isFav\n        ) {\n            ok\n            error\n        }\n    }\n`;\n","import { useMutation } from '@apollo/react-hooks';\nimport React, { ChangeEventHandler, useState } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { MY_PLACES } from '../../sharedQueries';\nimport { addPlace, addPlaceVariables } from '../../types/api';\nimport AddPlacePresenter from './AddPlacePresenter';\nimport { ADD_PLACE } from './AddPlaceQueries';\n\nconst AddPlaceContainer: React.FC<RouteComponentProps> = ({ location, history }) => {\n  const { state = {} } = location;\n  const [address, setAddress] = useState<string>(state.address || '');\n  const [name, setName] = useState<string>('');\n  const [lat] = useState<number>(state.lat || 0);\n  const [lng] = useState<number>(state.lng || 0);\n  const [addPlaceMutation, { loading }] = useMutation<\n    addPlace,\n    addPlaceVariables\n  >(ADD_PLACE);\n\n  const handleInputChange: ChangeEventHandler<HTMLInputElement> = e => {\n    const { name: targetName, value } = e.target;\n\n    if (targetName === 'address') {\n      setAddress(value);\n    }\n\n    if (targetName === 'name') {\n      setName(value);\n    }\n  };\n\n  const submitAddPlace = async () => {\n    try {\n      const { data } = await addPlaceMutation({\n        refetchQueries: [{ query: MY_PLACES }],\n        variables: {\n          address,\n          isFav: false,\n          lat,\n          lng,\n          name,\n        },\n      });\n\n      if (data) {\n        const { AddPlace } = data;\n        if (AddPlace.ok) {\n          toast.success('Place added!');\n          history.push('/places');\n        }\n        if (AddPlace.error) {\n          toast.error(AddPlace.error);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <AddPlacePresenter\n      onInputChange={handleInputChange}\n      address={address}\n      name={name}\n      loading={loading}\n      onSubmit={submitAddPlace}\n      pickedAddress={lat !== 0 && lng !== 0 && name !== ''}\n    />\n  );\n};\n\nexport default AddPlaceContainer;\n","import React from 'react';\nimport styled from 'styled-components';\n\ninterface IContainerProps {\n  mine: boolean;\n}\n\nconst Container = styled.div<IContainerProps>`\n  background-color: ${props =>\n    props.mine ? props.theme.blue : props.theme.grey};\n  color: white;\n  padding: 10px 20px;\n  align-self: ${props => (props.mine ? 'flex-end' : 'flex-start')};\n  border-radius: ${props =>\n    props.mine ? '20px 20px 0 20px' : '20px 20px 20px 0'};\n  margin-bottom: 10px;\n`;\n\ninterface IProps {\n  text: string;\n  mine: boolean;\n}\n\nconst Message: React.FC<IProps> = ({ text, mine }) => (\n  <Container mine={mine}>{text}</Container>\n);\n\nexport default Message;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Form from '../../components/Form';\nimport Header from '../../components/Header';\nimport Input from '../../components/Input';\nimport Message from '../../components/Message';\nimport {\n  getChat_GetChat_chat,\n  getChat_GetChat_chat_messages,\n  userProfile_GetMyProfile_user,\n} from '../../types/api';\n\nconst Container = styled.div``;\n\ninterface IProps {\n  chatData?: getChat_GetChat_chat | null;\n  userData?: userProfile_GetMyProfile_user | null;\n  loading: boolean;\n  messageText: string;\n  onSubmit: () => void;\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  chatContainerRef?: React.RefObject<HTMLDivElement>;\n}\n\nconst Chat = styled.div`\n  height: 80vh;\n  overflow: scroll;\n  padding: 0 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n`;\n\nconst InputCont = styled.div`\n  padding: 0 20px;\n`;\n\nconst ChatPresenter: React.FC<IProps> = ({\n  loading,\n  chatData,\n  userData,\n  messageText,\n  onInputChange,\n  onSubmit,\n  chatContainerRef,\n}) => (\n  <Container>\n    <Header title={'Chat'} />\n    {!loading && chatData && userData && (\n      <>\n        <Chat ref={chatContainerRef}>\n          {chatData.messages &&\n            chatData.messages.map(\n              (message: getChat_GetChat_chat_messages | null) => {\n                if (message) {\n                  return (\n                    <Message\n                      key={message.id}\n                      text={message.text}\n                      mine={userData.id === message.userId}\n                    />\n                  );\n                }\n                return null;\n              },\n            )}\n        </Chat>\n        <InputCont>\n          <Form onSubmit={onSubmit}>\n            <Input\n              value={messageText}\n              placeholder={'Type your message'}\n              onChange={onInputChange}\n              name={'message'}\n            />\n          </Form>\n        </InputCont>\n      </>\n    )}\n  </Container>\n);\n\nexport default ChatPresenter;\n","import { gql } from 'apollo-boost';\n\nexport const GET_CHAT = gql`\n  query getChat(\n      $chatId: Int!\n  ) {\n      GetChat(\n          chatId: $chatId\n      ) {\n          ok\n          error\n          chat {\n              id\n              passengerId\n              driverId\n              messages {\n                  id\n                  text\n                  userId\n              }\n          }\n      }\n  }\n`;\n\nexport const SEND_MESSAGE = gql`\n    mutation sendMessage(\n        $text: String!\n        $chatId: Int!\n    ) {\n        SendChatMessage(\n            text: $text   \n            chatId: $chatId\n        ) {\n            ok\n            error\n            message {\n                id\n                text\n                userId\n            }\n        }\n    }\n`;\n\nexport const SUBSCRIBE_TO_MESSAGES = gql`\n    subscription messageSubscription {\n        MessageSubscription {\n            id\n            text\n            userId\n        }\n    }\n`;","import { useLazyQuery, useMutation, useQuery } from '@apollo/react-hooks';\nimport _ from 'lodash';\nimport React, { ChangeEventHandler, useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { RouteComponentProps, useParams } from 'react-router-dom';\nimport { USER_PROFILE } from '../../sharedQueries';\nimport {\n  getChatVariables,\n  sendMessage,\n  sendMessageVariables,\n  userProfile,\n} from '../../types/api';\nimport ChatPresenter from './ChatPresenter';\nimport { GET_CHAT, SEND_MESSAGE, SUBSCRIBE_TO_MESSAGES } from './ChatQueries';\n\nconst ChatContainer: React.FC<RouteComponentProps> = ({ history }) => {\n  const { chatId } = useParams();\n  const chatContainerEl = useRef<HTMLDivElement>(null);\n  const { data: userData } = useQuery<userProfile>(USER_PROFILE);\n  const [\n    getChatQuery,\n    { data: chatData, loading: getChatLoading, subscribeToMore },\n  ] = useLazyQuery<any, getChatVariables>(GET_CHAT);\n  const [message, setMessage] = useState<string>('');\n  const [sendMessageMutation] = useMutation<sendMessage, sendMessageVariables>(\n    SEND_MESSAGE,\n  );\n\n  useEffect(() => {\n    if (subscribeToMore) {\n      subscribeToMore({\n        document: SUBSCRIBE_TO_MESSAGES,\n        updateQuery: (prev, { subscriptionData }) => {\n          if (subscriptionData.data) {\n            const newObj = _.cloneDeep(prev);\n            newObj.GetChat.chat.messages.push(subscriptionData.data.MessageSubscription);\n            return newObj;\n          }\n          return prev;\n        },\n      });\n    }\n  }, [subscribeToMore]);\n\n  useEffect(() => {\n    if (chatId) {\n      getChatQuery({\n        variables: { chatId: parseInt(chatId, 10) },\n      });\n    } else {\n      history.replace('/');\n    }\n  }, [history, chatId, getChatQuery]);\n\n  useLayoutEffect(() => {\n    if (chatContainerEl && chatContainerEl.current) {\n      chatContainerEl.current.scrollTo(0 , document.body.scrollHeight);\n    }\n  }, [chatData]);\n\n  const handleInputChange: ChangeEventHandler<HTMLInputElement> = e => {\n    setMessage(e.target.value);\n  };\n\n  const submitMessage = async () => {\n    try {\n      await sendMessageMutation({\n        variables: {\n          chatId: parseInt(chatId!, 10),\n          text: message,\n        },\n      });\n      setMessage('');\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <div>\n      <ChatPresenter\n        chatData={chatData && chatData.GetChat.chat}\n        userData={userData && userData.GetMyProfile.user}\n        loading={getChatLoading}\n        onSubmit={submitMessage}\n        onInputChange={handleInputChange}\n        chatContainerRef={chatContainerEl}\n        messageText={message}\n      />\n    </div>\n  );\n};\n\nexport default ChatContainer;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div``;\n\nconst Image = styled.label`\n  cursor: pointer;\n  height: 80px;\n  width: 80px;\n  border: 2px solid black;\n  border-radius: 50%;\n  margin-bottom: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 28px;\n  overflow: hidden;\n  & img {\n    width: 80px;\n    height: 80px;\n  }\n`;\n\nconst Input = styled.input`\n  color: white;\n  opacity: 0;\n  height: 1px;\n  &:focus {\n    outline: none;\n  }\n`;\n\ninterface IProps {\n  uploading: boolean;\n  fileUrl: string;\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst PhotoInput: React.SFC<IProps> = ({ uploading, fileUrl, onChange }) => (\n  <Container>\n    <Input id={'photo'} type=\"file\" accept=\"image/*\" onChange={onChange} />\n    <Image htmlFor=\"photo\">\n      {uploading && '⏰'}\n      {!uploading && <img src={fileUrl} alt=\"\" />}\n    </Image>\n  </Container>\n);\n\nexport default PhotoInput;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport styled from 'styled-components';\nimport Button from '../../components/Button';\nimport Form from '../../components/Form';\nimport Header from '../../components/Header';\nimport Input from '../../components/Input';\nimport Loader from '../../components/Loader';\nimport PhotoInput from '../../components/PhotoInput';\n\nconst Container = styled.div``;\nconst ExtendedForm = styled(Form)`\n  padding: 0 40px;\n`;\n\nconst ExtendedInput = styled(Input)`\n  margin-bottom: 30px;\n`;\n\ninterface IProps {\n  firstName: string;\n  lastName: string;\n  email: string;\n  profilePhoto?: string;\n  onSubmit: () => void;\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  loading: boolean;\n  uploading: boolean;\n  onPhotoChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst EditAccountPresenter: React.FunctionComponent<IProps> = ({\n  firstName,\n  lastName,\n  email,\n  onInputChange,\n  onSubmit,\n  loading,\n  profilePhoto,\n  uploading,\n  onPhotoChange,\n}) => {\n  return (\n    <Container>\n      <Helmet>\n        <title>Edit Account | Number</title>\n      </Helmet>\n      <Header title={'Edit Account'} backTo={'/'} />\n      <ExtendedForm onSubmit={onSubmit}>\n        <PhotoInput\n          uploading={uploading}\n          fileUrl={profilePhoto || ''}\n          onChange={onPhotoChange}\n        />\n        <ExtendedInput\n          type={'text'}\n          name={'firstName'}\n          value={firstName}\n          onChange={onInputChange}\n          placeholder={'First name'}\n        />\n        <ExtendedInput\n          type={'text'}\n          name={'lastName'}\n          value={lastName}\n          onChange={onInputChange}\n          placeholder={'Last name'}\n        />\n        <ExtendedInput\n          type={'email'}\n          name={'email'}\n          value={email}\n          onChange={onInputChange}\n          placeholder={'Email'}\n        />\n        <Button type={'submit'}>Update</Button>\n      </ExtendedForm>\n      {loading && <Loader />}\n    </Container>\n  );\n};\n\nexport default EditAccountPresenter;\n","import { gql } from 'apollo-boost';\n\nexport const UPDATE_PROFILE = gql`\n    mutation updateProfile(\n        $firstName: String!\n        $lastName: String\n        $email: String\n        $profilePhoto: String\n    ) {\n        UpdateMyProfile(\n            firstName: $firstName\n            lastName: $lastName\n            email: $email\n            profilePhoto: $profilePhoto\n        ) {\n            ok\n            error\n        }\n    }\n`;\n","import { useMutation, useQuery } from '@apollo/react-hooks';\nimport axios from 'axios';\nimport React, { ChangeEventHandler, useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { USER_PROFILE } from '../../sharedQueries';\nimport {\n  updateProfile,\n  updateProfileVariables,\n  userProfile,\n} from '../../types/api';\nimport EditAccountPresenter from './EditAccountPresenter';\nimport { UPDATE_PROFILE } from './EditAccountQueries';\n\nconst EditAccountContainer = () => {\n  const [email, setEmail] = useState<string>('');\n  const [firstName, setFirstName] = useState<string>('');\n  const [lastName, setLastName] = useState<string>('');\n  const [profilePhoto, setProfilePhoto] = useState<string>('');\n  const [uploading, setUploading] = useState<boolean>(false);\n  const { data } = useQuery<userProfile>(USER_PROFILE);\n  const [updateProfileMutation, { loading }] = useMutation<\n    updateProfile,\n    updateProfileVariables\n  >(UPDATE_PROFILE);\n\n  useEffect(() => {\n    if (data) {\n      const { GetMyProfile } = data;\n      if (GetMyProfile.ok && GetMyProfile.user) {\n        setFirstName(GetMyProfile.user.firstName);\n        setLastName(GetMyProfile.user.lastName);\n        setEmail(GetMyProfile.user.email || '');\n        setProfilePhoto(GetMyProfile.user.profilePhoto || '');\n      }\n    }\n  }, [data]);\n\n  const handleInputChange: ChangeEventHandler<HTMLInputElement> = e => {\n    const { name, value } = e.target;\n\n    if (name === 'email') {\n      setEmail(value);\n    }\n\n    if (name === 'firstName') {\n      setFirstName(value);\n    }\n\n    if (name === 'lastName') {\n      setLastName(value);\n    }\n\n    if (name === 'profilePhoto') {\n      setProfilePhoto(value);\n    }\n  };\n\n  const handlePhoto: ChangeEventHandler<HTMLInputElement> = async e => {\n    const { files } = e.target;\n\n    if (files) {\n      try {\n        setUploading(true);\n        const formData = new FormData();\n        formData.append('file', files[0]);\n        formData.append(\n          'api_key',\n          process.env.REACT_APP_CLOUDINARY_API_KEY || '',\n        );\n        formData.append(\n          'upload_preset',\n          process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET || '',\n        );\n        formData.append('timestamp', String(Date.now() / 1000));\n\n        const response = await axios.post(\n          `https://api.cloudinary.com/v1_1/${process.env\n            .REACT_APP_CLOUDINARY_CLOUD_NAME || ''}/upload`,\n          formData,\n        );\n        console.log(response);\n        if (response.data) {\n          const { secure_url } = response.data;\n          setProfilePhoto(secure_url);\n        }\n      } catch (e) {\n        console.error(e);\n      } finally {\n        setUploading(false);\n      }\n    }\n  };\n\n  const handleSubmit = async () => {\n    try {\n      const result = await updateProfileMutation({\n        refetchQueries: [\n          {\n            query: USER_PROFILE,\n          },\n        ],\n        variables: {\n          email,\n          firstName,\n          lastName,\n          profilePhoto,\n        },\n      });\n\n      if (result.data) {\n        const { UpdateMyProfile } = result.data;\n\n        if (UpdateMyProfile.ok) {\n          toast.success('Profile updated!');\n        } else if (UpdateMyProfile.error) {\n          toast.error(UpdateMyProfile.error);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <EditAccountPresenter\n      email={email}\n      firstName={firstName}\n      lastName={lastName}\n      profilePhoto={profilePhoto}\n      onInputChange={handleInputChange}\n      loading={loading}\n      onSubmit={handleSubmit}\n      onPhotoChange={handlePhoto}\n      uploading={uploading}\n    />\n  );\n};\n\nexport default EditAccountContainer;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport styled from 'styled-components';\nimport BackArrow from '../../components/BackArrow';\nimport Form from '../../components/Form';\nimport Input from '../../components/Input';\n\nconst Container = styled.div`\n  margin-top: 30px;\n  padding: 50px 20px;\n`;\n\nconst BackArrowExtended = styled(BackArrow)`\n  position: absolute;\n  top: 20px;\n  left: 20px;\n`;\n\nconst Title = styled.h2`\n  font-size: 25px;\n  margin-bottom: 40px;\n`;\n\nconst Button = styled.button`\n  box-shadow: 0 18px 35px rgba(50, 50, 93, 0.1), 0 8px 15px rgba(0, 0, 0, 0.07);\n  background-color: black;\n  color: white;\n  padding: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 50px;\n  right: 50px;\n  cursor: pointer;\n`;\n\nconst ExtendedInput = styled(Input)`\n  margin-bottom: 20px;\n`;\n\ninterface IProps {\n  email: string;\n  password: string;\n  onInputChange: React.ChangeEventHandler<HTMLInputElement | HTMLSelectElement>;\n  onSubmit: React.FormEventHandler<HTMLFormElement>;\n}\n\nconst EmailLoginPresenter: React.FunctionComponent<IProps> = ({\n  email,\n  password,\n  onInputChange,\n  onSubmit,\n}) => (\n  <Container>\n    <Helmet>\n      <title>Phone Login | Number</title>\n    </Helmet>\n    <BackArrowExtended backTo={'/'} />\n    <Title>Enter your email</Title>\n    <Form onSubmit={onSubmit}>\n      <ExtendedInput\n        placeholder={'your@email.com'}\n        type={'email'}\n        name={'email'}\n        value={email}\n        onChange={onInputChange}\n      />\n      <ExtendedInput\n        placeholder={'password'}\n        type={'password'}\n        name={'password'}\n        value={password}\n        onChange={onInputChange}\n      />\n      <Button>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill={'white'}\n        >\n          <path d=\"M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z\" />\n        </svg>\n      </Button>\n    </Form>\n  </Container>\n);\n\nexport default EmailLoginPresenter;\n","import { gql } from 'apollo-boost';\n\nexport const EMAIL_SIGN_IN = gql`\n    mutation emailSignIn(\n        $email: String!\n        $password: String!\n    ) {\n        EmailSignIn (\n            email: $email\n            password: $password\n        ) {\n            ok\n            error\n            token\n        }\n    }\n`;","import { useMutation } from '@apollo/react-hooks';\nimport React, { ChangeEventHandler, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport Loader from '../../components/Loader';\nimport { emailSignIn, emailSignInVariables } from '../../types/api';\nimport EmailLoginPresenter from './EmailLoginPresenter';\nimport { EMAIL_SIGN_IN } from './EmailLoginQueries';\n\nconst EmailLoginContainer = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [emailSignInMutation, { loading }] = useMutation<\n    emailSignIn,\n    emailSignInVariables\n  >(EMAIL_SIGN_IN);\n\n  const handleInputChange: ChangeEventHandler<HTMLInputElement> = e => {\n    const { name, value } = e.target;\n\n    if (name === 'email') {\n      setEmail(value);\n    }\n    if (name === 'password') {\n      setPassword(value);\n    }\n  };\n\n  const submitLogin = async () => {\n    console.log('submit');\n    try {\n      const result = await emailSignInMutation({\n        variables: {\n          email,\n          password,\n        },\n      });\n      console.log(result);\n\n      if (result.data) {\n        const { EmailSignIn } = result.data;\n\n        if (EmailSignIn.ok) {\n\n        } else {\n          toast.error(EmailSignIn.error);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n      toast.error('문제가 발생했습니다.');\n    }\n  };\n\n  return (\n    <>\n      <EmailLoginPresenter\n        email={email}\n        password={password}\n        onInputChange={handleInputChange}\n        onSubmit={submitLogin}\n      />\n      {loading && <Loader />}\n    </>\n  );\n};\n\nexport default EmailLoginContainer;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nexport const geoCode = async (address: string) => {\n  const URL = `https://maps.googleapis.com/maps/api/geocode/json?address=${address}&key=${process.env.REACT_APP_GOOGLE_MAP_API_KEY}`;\n\n  try {\n    const response = await axios.get(URL);\n    if (!response.data.error_message) {\n      const { results } = response.data;\n\n      if (results && results.length > 0) {\n        const firstPlace = results[0];\n        const {\n          formatted_address,\n          geometry: {\n            location: { lat, lng },\n          },\n        } = firstPlace;\n\n        return {\n          formatted_address,\n          lat,\n          lng,\n        };\n      }\n    } else {\n      toast.error(response.data.error_message);\n    }\n  } catch (e) {\n    console.error(e);\n  }\n};\n\nexport const reverseGeoCode = async (\n  lat: number,\n  lng: number,\n): Promise<string | undefined> => {\n  const URL = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=${process.env.REACT_APP_GOOGLE_MAP_API_KEY}`;\n\n  try {\n    const response = await axios.get(URL);\n\n    if (!response.data.error_message) {\n      const { results } = response.data;\n      const firstPlace = results[0];\n      return firstPlace.formatted_address;\n    } else {\n      toast.error(response.data.error_message);\n    }\n  } catch (e) {\n    console.error(e);\n  }\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.input`\n  position: absolute;\n  background-color: white;\n  border-radius: 5px;\n  -webkit-appearance: none;\n  z-index: 20;\n  width: 80%;\n  border: 0;\n  font-size: 16px;\n  padding: 15px 10px;\n  box-shadow: 0 18px 35px rgba(50, 50, 93, 0.1), 0 8px 15px rgba(0, 0, 0, 0.07);\n  margin: auto;\n  top: 10px;\n  left: 0;\n  right: 0;\n  height: auto;\n`;\n\ninterface IProps {\n  value: string;\n  onBlur: () => void;\n  name: string;\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst AddressBar: React.FC<IProps> = ({ value, onBlur, onChange, name }) => (\n  <Container\n    value={value}\n    onBlur={onBlur}\n    onChange={onChange}\n    placeholder={'Type address'}\n    name={name}\n  />\n);\n\nexport default AddressBar;\n","import React, { ChangeEvent } from 'react';\nimport Helmet from 'react-helmet';\nimport styled from 'styled-components';\nimport AddressBar from '../../components/AddressBar';\nimport Button from '../../components/Button';\n\nconst Map = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 10;\n  height: 100vh;\n`;\n\nconst Center = styled.div`\n  display: block;\n  position: absolute;\n  z-index: 20;\n  top: 50%;\n  left: 50%;\n  font-size: 30px;\n  transform: translate(-50%, -50%);\n`;\n\nconst ExtendedButton = styled(Button)`\n  position: absolute;\n  bottom: 50px;\n  left: 0;\n  right: 0;\n  margin: auto;\n  z-index: 10;\n  height: auto;\n  width: 80%;\n`;\n\ninterface IProps {\n  mapRef: React.RefObject<HTMLDivElement>;\n  address: string;\n  onAddressBlur: () => void;\n  onAddressChange: (event: ChangeEvent<HTMLInputElement>) => void;\n  onPickPlace: () => void;\n}\n\nconst FindAddressPresenter: React.FC<IProps> = ({\n  mapRef,\n  address,\n  onAddressBlur,\n  onAddressChange,\n  onPickPlace,\n}) => {\n  return (\n    <div>\n      <Helmet>\n        <title>Find Address | Nuber</title>\n      </Helmet>\n      <AddressBar\n        value={address}\n        onBlur={onAddressBlur}\n        name={'address'}\n        onChange={onAddressChange}\n      />\n      <Map ref={mapRef} />\n      <ExtendedButton onClick={onPickPlace}>Pick this place</ExtendedButton>\n      <Center>\n        <span role={'img'} aria-label={'marker'}>\n          📍\n        </span>\n      </Center>\n    </div>\n  );\n};\n\nexport default FindAddressPresenter;\n","import { GoogleAPI } from 'google-maps-react';\nimport React, { ChangeEventHandler, useCallback, useEffect, useRef, useState } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { geoCode, reverseGeoCode } from '../../mapHelpers';\nimport FindAddressPresenter from './FindAddressPresenter';\n\ninterface IProps extends RouteComponentProps {\n  google: GoogleAPI;\n}\n\nconst FindAddressContainer: React.FC<IProps> = ({ google, history }) => {\n  const mapRef = useRef<any>();\n  const map = useRef<google.maps.Map>();\n  const [address, setAddress] = useState('');\n\n  const handleDragEnd = useCallback(async () => {\n    if (map.current) {\n      const mapObj = map.current;\n      const latitude = mapObj.getCenter().lat();\n      const longitude = mapObj.getCenter().lng();\n\n      await reverseGeocodeAddress(latitude, longitude);\n    }\n  }, []);\n\n  const loadMap = useCallback(\n    (latitude, longitude) => {\n      const mapConfig: google.maps.MapOptions = {\n        center: {\n          lat: latitude,\n          lng: longitude,\n        },\n        disableDefaultUI: true,\n        zoom: 15,\n      };\n      map.current = new google.maps.Map(mapRef.current, mapConfig);\n      map.current.addListener('dragend', handleDragEnd);\n    },\n    [mapRef, google, handleDragEnd],\n  );\n\n  const handleGeoSuccess: PositionCallback = useCallback(\n    async (position: Position) => {\n      const {\n        coords: { latitude, longitude },\n      } = position;\n\n      loadMap(latitude, longitude);\n      await reverseGeocodeAddress(latitude, longitude);\n    },\n    [loadMap],\n  );\n\n  const handleGeoError: PositionErrorCallback = useCallback(e => {\n    console.error(e);\n  }, []);\n\n  const handleAddress: ChangeEventHandler<HTMLInputElement> = (e) => {\n    setAddress(e.target.value);\n  };\n\n  const handleAddressBlur = async () => {\n    const location = await geoCode(address);\n\n    if (location) {\n      setAddress(location.formatted_address);\n\n      if (map.current) {\n        map.current.panTo(new google.maps.LatLng(location.lat, location.lng));\n      }\n    }\n  };\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(handleGeoSuccess, handleGeoError);\n  }, [handleGeoSuccess, handleGeoError]);\n\n  const reverseGeocodeAddress = async (latitude: number, longitude: number) => {\n    const reversedAddress = await reverseGeoCode(latitude, longitude);\n    setAddress(reversedAddress || '');\n  };\n\n  const handlePickPlace = () => {\n    if (map.current) {\n      const lat = map.current.getCenter().lat();\n      const lng = map.current.getCenter().lng();\n      history.push('/add-place', { lat, lng, address })\n    }\n  };\n\n  return (\n    <FindAddressPresenter\n      mapRef={mapRef}\n      address={address}\n      onAddressChange={handleAddress}\n      onAddressBlur={handleAddressBlur}\n      onPickPlace={handlePickPlace}\n    />\n  );\n};\n\nexport default FindAddressContainer;\n","import { GoogleApiWrapper } from 'google-maps-react';\nimport FindAddressContainer from './FindAddressContainer';\n\nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_GOOGLE_MAP_API_KEY || '',\n})(FindAddressContainer);\n","import React from 'react';\nimport { MutationFunction } from 'react-apollo';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { toggleDriving, userProfile } from '../../types/api';\n\nconst Container = styled.div`\n  height: 100%;\n`;\n\nconst Header = styled.div`\n  background-color: black;\n  height: 20%;\n  margin-bottom: 30px;\n  padding: 0 15px;\n  color: white;\n`;\n\nconst SLink = styled(Link)`\n  font-size: 22px;\n  display: block;\n  margin-left: 15px;\n  margin-bottom: 25px;\n  font-weight: 400;\n`;\n\nconst Image = styled.img`\n  height: 80px;\n  width: 80px;\n  background-color: grey;\n  border-radius: 40px;\n  overflow: hidden;\n`;\n\nconst Name = styled.h2`\n  font-size: 22px;\n  color: white;\n  margin-bottom: 10px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst Rating = styled.h5`\n  font-size: 18px;\n  color: white;\n`;\n\nconst Text = styled.span`\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n`;\n\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  grid-gap: 10px;\n  height: 100%;\n  align-items: center;\n`;\n\ninterface IToggleProps {\n  readonly isDriving: boolean;\n}\n\nconst ToggleDriving = styled.button<IToggleProps>`\n  -webkit-appearance: none;\n  background-color: ${props =>\n    props.isDriving ? props.theme.yellow : props.theme.green};\n  width: 100%;\n  color: white;\n  font-size: 18px;\n  border: 0;\n  padding: 15px 0;\n  cursor: pointer;\n`;\n\ninterface IProps {\n  data: userProfile | undefined;\n  loading: boolean;\n  toggleDrivingFn: MutationFunction<toggleDriving>;\n}\n\nconst MenuPresenter: React.FunctionComponent<IProps> = ({\n  data,\n  loading,\n  toggleDrivingFn,\n}) => {\n  const { GetMyProfile } = data || {};\n  const { user } = GetMyProfile || {};\n\n  const handleToggleDriving = async () => {\n    await toggleDrivingFn();\n  };\n\n  return (\n    <Container>\n      {!loading && user && (\n        <>\n          <Header>\n            <Grid>\n              <Link to={'/edit-account'}>\n                <Image\n                  src={\n                    user.profilePhoto ||\n                    'https://icon-library.net/images/default-user-icon/default-user-icon-4.jpg'\n                  }\n                />\n              </Link>\n              <Text>\n                <Name>{user.fullName}</Name>\n                <Rating>4.5</Rating>\n              </Text>\n            </Grid>\n          </Header>\n          <SLink to=\"/trips\">Your Trips</SLink>\n          <SLink to=\"/settings\">Settings</SLink>\n          <ToggleDriving isDriving={user.isDriving} onClick={handleToggleDriving}>\n            {user.isDriving ? 'Stop driving' : 'Start driving'}\n          </ToggleDriving>\n        </>\n      )}\n    </Container>\n  );\n};\n\nexport default MenuPresenter;\n","import { gql } from 'apollo-boost';\n\nexport const TOGGLE_DRIVING = gql`\n  mutation toggleDriving {\n      ToggleDrivingMode {\n          ok\n          error\n      }\n  }\n`;","import { useMutation, useQuery } from '@apollo/react-hooks';\nimport React from 'react';\nimport { toast } from 'react-toastify';\nimport { USER_PROFILE } from '../../sharedQueries';\nimport { toggleDriving, userProfile } from '../../types/api';\nimport MenuPresenter from './MenuPresenter';\nimport { TOGGLE_DRIVING } from './MenuQueries';\n\nconst MenuContainer = () => {\n  const { data, loading } = useQuery<userProfile>(USER_PROFILE);\n  const [toggleDrivingFn] = useMutation<toggleDriving>(TOGGLE_DRIVING, {\n    update: (cache, result) => {\n      if (result.data) {\n        const { ToggleDrivingMode } = result.data;\n\n        if (ToggleDrivingMode.ok) {\n          const query: userProfile | null = cache.readQuery({\n            query: USER_PROFILE,\n          });\n\n          if (query) {\n            const {\n              GetMyProfile: { user },\n            } = query;\n\n            if (user) {\n              user!.isDriving = !user!.isDriving;\n            }\n          }\n          cache.writeQuery({ query: USER_PROFILE, data: query });\n        } else {\n          toast.error(ToggleDrivingMode.error);\n        }\n      }\n    },\n  });\n\n  return (\n    <MenuPresenter\n      data={data}\n      loading={loading}\n      toggleDrivingFn={toggleDrivingFn}\n    />\n  );\n};\n\nexport default MenuContainer;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Button from '../Button';\n\ninterface IProps {\n  pickUpAddress: string;\n  dropOffAddress: string;\n  price: number;\n  distance: string;\n  duration: string;\n  passengerName: string;\n  passengerPhoto?: string | null;\n  acceptRideFn: any;\n  id: number;\n}\n\nconst Container = styled.div`\n  background-color: white;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 80%;\n  height: 60%;\n  z-index: 9;\n  padding: 20px;\n`;\n\nconst Title = styled.h4`\n  font-weight: 800;\n  margin-top: 30px;\n  margin-bottom: 10px;\n  &:first-child {\n    margin-top: 0;\n  }\n`;\n\nconst Data = styled.span`\n  color: ${props => props.theme.blue};\n`;\n\nconst Img = styled.img`\n  height: 60px;\n  margin-right: 20px;\n  border-radius: 50%;\n`;\n\nconst Passenger = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n`;\n\nconst RidePopUp: React.FC<IProps> = ({\n  pickUpAddress,\n  dropOffAddress,\n  price,\n  distance,\n  duration,\n  passengerName,\n  passengerPhoto,\n  acceptRideFn,\n  id,\n}) => (\n  <Container>\n    <Title>Pick Up Address</Title>\n    <Data>{pickUpAddress}</Data>\n    <Title>Drop Off Address</Title>\n    <Data>{dropOffAddress}</Data>\n    <Title>Price</Title>\n    <Data>{price}</Data>\n    <Title>Distance</Title>\n    <Data>{distance}</Data>\n    <Title>Duration</Title>\n    <Data>{duration}</Data>\n    <Title>Passenger:</Title>\n    <Passenger>\n      {passengerPhoto && <Img src={passengerPhoto} />}\n      <Data>{passengerName}</Data>\n    </Passenger>\n    <Button onClick={() => acceptRideFn(id)}>Accept Ride</Button>\n  </Container>\n);\n\nexport default RidePopUp;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport Sidebar from 'react-sidebar';\nimport styled from 'styled-components';\nimport AddressBar from '../../components/AddressBar';\nimport Button from '../../components/Button';\nimport Menu from '../../components/Menu';\nimport RidePopUp from '../../components/RidePopup';\nimport { formatNumber } from '../../lib/number';\nimport {\n  getDrivers_GetNearbyDrivers_drivers,\n  getNearByRides_GetNearByRide_ride,\n  userProfile_GetMyProfile_user,\n} from '../../types/api';\n\nconst Container = styled.div``;\n\nconst MenuButton = styled.button`\n  appearance: none;\n  padding: 10px;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  text-align: center;\n  font-weight: 800;\n  border: 0;\n  cursor: pointer;\n  font-size: 20px;\n  transform: rotate(90deg);\n  z-index: 2;\n  background-color: transparent;\n`;\n\nconst ExtendedButton = styled(Button)`\n  position: absolute;\n  bottom: 50px;\n  left: 0;\n  right: 0;\n  margin: auto;\n  z-index: 10;\n  height: auto;\n  width: 80%;\n`;\n\nconst RequestButton = styled(ExtendedButton)`\n  bottom: 110px;\n`;\n\nconst Map = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n`;\n\ninterface IProps {\n  isMenuOpen: boolean;\n  loading: boolean;\n  toggleMenu: () => void;\n  mapRef: React.RefObject<any>;\n  toAddress: string;\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  onAddressSubmit: () => void;\n  onRequestRide: () => void;\n  price?: number;\n  isDriver: boolean;\n  user?: userProfile_GetMyProfile_user | null;\n  drivers?: Array<getDrivers_GetNearbyDrivers_drivers | null> | null;\n  nearbyRide?: getNearByRides_GetNearByRide_ride | null;\n  onAcceptRide: (rideId: number) => void;\n}\n\nconst HomePresenter: React.FunctionComponent<IProps> = ({\n  isMenuOpen,\n  toggleMenu,\n  loading,\n  toAddress,\n  mapRef,\n  onInputChange,\n  onAddressSubmit,\n  onRequestRide,\n  price,\n  isDriver,\n  nearbyRide,\n  onAcceptRide,\n}) => (\n  <Container>\n    <Helmet>\n      <title>Home | Number</title>\n    </Helmet>\n    <Sidebar\n      sidebar={<Menu />}\n      open={isMenuOpen}\n      onSetOpen={toggleMenu}\n      styles={{\n        sidebar: {\n          backgroundColor: 'white',\n          width: '80%',\n          zIndex: '100',\n        },\n      }}\n    >\n      {!loading && <MenuButton onClick={toggleMenu}>|||</MenuButton>}\n      {!isDriver && (\n        <>\n          <AddressBar\n            name={'toAddress'}\n            onChange={onInputChange}\n            value={toAddress}\n            onBlur={() => null}\n          />\n          {price && (\n            <RequestButton onClick={onRequestRide} disabled={toAddress === ''}>\n              {`Request Ride (₩${formatNumber(price)})`}\n            </RequestButton>\n          )}\n          <ExtendedButton onClick={onAddressSubmit} disabled={toAddress === ''}>\n            {price ? 'Change address' : 'Pick Address'}\n          </ExtendedButton>\n        </>\n      )}\n      {nearbyRide && (\n        <RidePopUp\n          pickUpAddress={nearbyRide.pickUpAddress}\n          dropOffAddress={nearbyRide.dropOffAddress}\n          price={nearbyRide.price}\n          distance={nearbyRide.distance}\n          duration={nearbyRide.duration}\n          passengerName={nearbyRide.passenger.fullName}\n          passengerPhoto={nearbyRide.passenger.profilePhoto}\n          acceptRideFn={onAcceptRide}\n          id={nearbyRide.id}\n        />\n      )}\n      <Map ref={mapRef} />\n    </Sidebar>\n  </Container>\n);\n\nexport default HomePresenter;\n","export const formatNumber = (num: number): string => {\n  return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n};\n","import { gql } from 'apollo-boost';\n\nexport const REPORT_LOCATION = gql`\n    mutation reportMovement(\n        $lat: Float!\n        $lng: Float!\n        $orientation: Float\n    ) {\n        ReportMovement(\n            lat: $lat\n            lng: $lng\n            orientation: $orientation\n        ) {\n            ok\n            error\n        }\n    }\n`;\n\nexport const GET_NEARBY_DRIVERS = gql`\n    query getDrivers {\n        GetNearbyDrivers {\n            ok\n            error\n            drivers {\n                id\n                lastLat\n                lastLng\n            }\n        }\n    }\n`;\n\nexport const REQUEST_RIDE = gql`\n    mutation requestRide(\n        $pickUpAddress: String!\n        $pickUpLat: Float!\n        $pickUpLng: Float!\n        $dropOffAddress: String!\n        $dropOffLat: Float!\n        $dropOffLng: Float!\n        $price: Float!\n        $distance: String!\n        $duration: String!\n    ) {\n        RequestRide (\n            pickUpAddress: $pickUpAddress\n            pickUpLat: $pickUpLat\n            pickUpLng: $pickUpLng\n            dropOffAddress: $dropOffAddress\n            dropOffLat: $dropOffLat\n            dropOffLng: $dropOffLng\n            price: $price\n            distance: $distance\n            duration: $duration\n        ) {\n            ok\n            error\n            ride {\n                id\n            }\n        }\n    }\n`;\n\nexport const GET_NEARBY_RIDE = gql`\n  query getNearByRides {\n      GetNearByRide {\n          ok\n          error\n          ride {\n              id\n              pickUpAddress\n              dropOffAddress\n              price\n              distance\n              duration\n              passenger {\n                  fullName\n                  profilePhoto\n              }\n          }\n      }\n  }\n`;\n\nexport const ACCEPT_RIDE = gql`\n    mutation acceptRide(\n        $rideId: Int!\n    ) {\n        UpdateRideStatus(\n            rideId: $rideId\n            status: ACCEPTED\n        ) {\n            ok\n            error\n        }\n    }\n`;\n\nexport const SUBSCRIBE_NEARBY_RIDES = gql`\n    subscription nearByRides {\n        NearByRideSubscription {\n            id\n            pickUpAddress\n            dropOffAddress\n            price\n            distance\n            duration\n            passenger {\n                fullName\n                profilePhoto\n            }\n        }\n    }\n`;","import { useLazyQuery, useMutation, useQuery } from '@apollo/react-hooks';\nimport { GoogleAPI } from 'google-maps-react';\nimport _ from 'lodash';\nimport React, { ChangeEventHandler, useCallback, useEffect, useMemo, useRef, useState, } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Loader from '../../components/Loader';\nimport { geoCode, reverseGeoCode } from '../../mapHelpers';\nimport { USER_PROFILE } from '../../sharedQueries';\nimport {\n  acceptRide,\n  acceptRideVariables,\n  getDrivers,\n  reportMovement,\n  reportMovementVariables,\n  requestRide,\n  requestRideVariables,\n  userProfile,\n} from '../../types/api';\nimport HomePresenter from './HomePresenter';\nimport {\n  ACCEPT_RIDE,\n  GET_NEARBY_DRIVERS,\n  GET_NEARBY_RIDE,\n  REPORT_LOCATION,\n  REQUEST_RIDE,\n  SUBSCRIBE_NEARBY_RIDES,\n} from './HomeQueries';\n\ninterface IProps extends RouteComponentProps {\n  google: GoogleAPI;\n}\n\nconst HomeContainer: React.FC<IProps> = ({ history }) => {\n  const mapRef = useRef<HTMLDivElement>();\n  const map = useRef<google.maps.Map>();\n  const userMarker = useRef<google.maps.Marker>();\n  const toMarker = useRef<google.maps.Marker>();\n  const [isMenuOpen, setIsMenuOpen] = useState<boolean>(false);\n  const { data: userProfileData, loading } = useQuery<userProfile>(\n    USER_PROFILE,\n  );\n  const [toAddress, setToAddress] = useState('');\n  const [fromAddress, setFromAddress] = useState('');\n  const directions = useRef<google.maps.DirectionsRenderer>();\n  const [pendingDirections, setPendingDirections] = useState(false);\n  const [distance, setDistance] = useState<string>();\n  const [duration, setDuration] = useState<string>();\n  const [reportMovementMutation] = useMutation<\n    reportMovement,\n    reportMovementVariables\n  >(REPORT_LOCATION);\n  const [getDriversQuery, { data: driversData }] = useLazyQuery<getDrivers>(\n    GET_NEARBY_DRIVERS,\n    { pollInterval: 2000 },\n  );\n  const driversMarker = useRef<google.maps.Marker[]>([]);\n  const [requestRideMutation, { loading: requestRideLoading }] = useMutation<\n    requestRide,\n    requestRideVariables\n  >(REQUEST_RIDE);\n  const [\n    getNearbyRideQuery,\n    { data: nearbyRideData, subscribeToMore: nearbyRideSubscribe },\n  ] = useLazyQuery(GET_NEARBY_RIDE);\n  const [isDriver, setIsDriver] = useState<boolean>(false);\n  const [acceptRideMutation, { loading: acceptRideLoading }] = useMutation<\n    acceptRide,\n    acceptRideVariables\n  >(ACCEPT_RIDE);\n\n  useEffect(() => {\n    if (isDriver && nearbyRideData) {\n      nearbyRideSubscribe({\n        document: SUBSCRIBE_NEARBY_RIDES,\n        updateQuery: (prev, { subscriptionData }) => {\n          if (subscriptionData.data) {\n            const newObj = _.cloneDeep(prev);\n            newObj.GetNearByRide.ride = subscriptionData.data.NearByRideSubscription;\n            return newObj;\n          } else {\n            return prev;\n          }\n        },\n      });\n    }\n  }, [isDriver, nearbyRideData, nearbyRideSubscribe]);\n\n  useEffect(() => {\n    if (driversData) {\n      const {\n        GetNearbyDrivers: { drivers },\n      } = driversData;\n\n      if (drivers) {\n        drivers.forEach(driver => {\n          if (driver && driver.lastLat && driver.lastLng) {\n            const existingDriver:\n              | google.maps.Marker\n              | undefined = driversMarker.current.find(marker => {\n              const markerId = marker.get('ID');\n              return markerId === driver.id;\n            });\n\n            if (existingDriver) {\n              existingDriver.setPosition({\n                lat: driver.lastLat,\n                lng: driver.lastLng,\n              });\n            } else {\n              const markerOptions: google.maps.MarkerOptions = {\n                icon: {\n                  path: google.maps.SymbolPath.BACKWARD_CLOSED_ARROW,\n                  scale: 5,\n                },\n                position: {\n                  lat: driver!.lastLat,\n                  lng: driver!.lastLng,\n                },\n              };\n\n              const newMarker: google.maps.Marker = new google.maps.Marker(\n                markerOptions,\n              );\n\n              if (map.current) {\n                newMarker.set('ID', driver.id);\n                newMarker.setMap(map.current);\n                driversMarker.current.push(newMarker);\n              }\n            }\n          }\n        });\n      }\n    }\n  }, [driversData]);\n\n  const price: number | undefined = useMemo(() => {\n    if (distance) {\n      return parseFloat(distance.replace('.', '')) * 120;\n    }\n  }, [distance]);\n\n  useEffect(() => {\n    if (userProfileData) {\n      const { user } = userProfileData.GetMyProfile;\n\n      if (user) {\n        if (user.isDriving) {\n          setIsDriver(true);\n          getNearbyRideQuery();\n        } else {\n          getDriversQuery();\n        }\n      }\n    }\n  }, [userProfileData, getDriversQuery, getNearbyRideQuery, nearbyRideSubscribe]);\n\n  const loadMap = useCallback(\n    (latitude, longitude) => {\n      const mapConfig: google.maps.MapOptions = {\n        center: {\n          lat: latitude,\n          lng: longitude,\n        },\n        disableDefaultUI: true,\n        zoom: 15,\n      };\n      map.current = new google.maps.Map(mapRef.current!, mapConfig);\n\n      const userMarkerConfig: google.maps.MarkerOptions = {\n        icon: {\n          path: google.maps.SymbolPath.CIRCLE,\n          scale: 7,\n        },\n        position: {\n          lat: latitude,\n          lng: longitude,\n        },\n      };\n      userMarker.current = new google.maps.Marker(userMarkerConfig);\n      userMarker.current.setMap(map.current);\n    },\n    [mapRef],\n  );\n  const handleGeoSuccess: PositionCallback = useCallback(\n    async ({ coords }) => {\n      loadMap(coords.latitude, coords.longitude);\n      const address = await reverseGeoCode(coords.latitude, coords.longitude);\n      if (address) {\n        setFromAddress(address);\n      }\n    },\n    [loadMap],\n  );\n\n  const handleGeoWatchSuccess: PositionCallback = useCallback(\n    position => {\n      const {\n        coords: { latitude, longitude },\n      } = position;\n      const latLng = new google.maps.LatLng(latitude, longitude);\n\n      if (userMarker.current) {\n        userMarker.current.setPosition(latLng);\n      }\n      if (map.current) {\n        map.current.panTo(latLng);\n      }\n\n      reportMovementMutation({\n        variables: {\n          lat: latitude,\n          lng: longitude,\n        },\n      });\n    },\n    [reportMovementMutation],\n  );\n\n  const handleGeoError: PositionErrorCallback = useCallback(e => {\n    console.error(e);\n  }, []);\n\n  const handleGeoWatchError: PositionErrorCallback = useCallback(e => {\n    console.error(e);\n  }, []);\n\n  useEffect(() => {\n    const watchOptions: PositionOptions = {\n      enableHighAccuracy: true,\n    };\n    navigator.geolocation.getCurrentPosition(handleGeoSuccess, handleGeoError);\n    navigator.geolocation.watchPosition(\n      handleGeoWatchSuccess,\n      handleGeoWatchError,\n      watchOptions,\n    );\n  }, [\n    handleGeoSuccess,\n    handleGeoError,\n    handleGeoWatchSuccess,\n    handleGeoWatchError,\n  ]);\n\n  const toggleMenu = () => {\n    setIsMenuOpen(prev => !prev);\n  };\n\n  const handleInputAddress: ChangeEventHandler<HTMLInputElement> = e => {\n    setToAddress(e.target.value);\n  };\n\n  const submitAddress = async () => {\n    const location = await geoCode(toAddress);\n\n    if (location) {\n      setToAddress(location.formatted_address);\n\n      if (toMarker.current) {\n        toMarker.current.setMap(null);\n      }\n\n      const toMarkerConfig: google.maps.MarkerOptions = {\n        position: {\n          lat: location.lat,\n          lng: location.lng,\n        },\n      };\n      toMarker.current = new google.maps.Marker(toMarkerConfig);\n      toMarker.current.setMap(map.current!);\n\n      const bounds = new google.maps.LatLngBounds();\n      bounds.extend(\n        new google.maps.LatLng(\n          userMarker.current!.getPosition()!.lat(),\n          userMarker.current!.getPosition()!.lng(),\n        ),\n      );\n      bounds.extend(new google.maps.LatLng(location.lat, location.lng));\n      map.current!.fitBounds(bounds);\n\n      createPath();\n    }\n  };\n\n  const createPath = () => {\n    const fromLatLng = new google.maps.LatLng(\n      userMarker.current!.getPosition()!.lat(),\n      userMarker.current!.getPosition()!.lng(),\n    );\n    const toLatLng = new google.maps.LatLng(\n      toMarker.current!.getPosition()!.lat(),\n      toMarker.current!.getPosition()!.lng(),\n    );\n\n    if (directions.current) {\n      directions.current.setMap(null);\n    }\n\n    const renderOptions: google.maps.DirectionsRendererOptions = {\n      polylineOptions: {\n        strokeColor: '#000',\n      },\n      suppressMarkers: true,\n    };\n\n    directions.current = new google.maps.DirectionsRenderer(renderOptions);\n\n    const directionsService: google.maps.DirectionsService = new google.maps.DirectionsService();\n    const directionsOptions: google.maps.DirectionsRequest = {\n      destination: toLatLng,\n      origin: fromLatLng,\n      travelMode: google.maps.TravelMode.TRANSIT,\n    };\n\n    setPendingDirections(true);\n    directionsService.route(directionsOptions, (result, status) => {\n      setPendingDirections(false);\n      if (status === google.maps.DirectionsStatus.OK) {\n        const { routes } = result;\n        const {\n          distance: { text: distanceText },\n          duration: { text: durationText },\n        } = routes[0].legs[0];\n\n        setDistance(distanceText);\n        setDuration(durationText);\n\n        directions.current!.setDirections(result);\n        directions.current!.setMap(map.current!);\n      } else {\n        toast.error('There is no route there, you have to swim');\n      }\n    });\n  };\n\n  const submitRequestRide = async () => {\n    const fromLat = userMarker.current!.getPosition()!.lat();\n    const fromLng = userMarker.current!.getPosition()!.lng();\n    const toLat = toMarker.current!.getPosition()!.lat();\n    const toLng = toMarker.current!.getPosition()!.lng();\n\n    try {\n      if (distance && duration && price) {\n        const response = await requestRideMutation({\n          variables: {\n            distance,\n            dropOffAddress: toAddress,\n            dropOffLat: toLat,\n            dropOffLng: toLng,\n            duration,\n            pickUpAddress: fromAddress,\n            pickUpLat: fromLat,\n            pickUpLng: fromLng,\n            price,\n          },\n        });\n\n        if (response.data) {\n          const { RequestRide } = response.data;\n          if (RequestRide.ok && RequestRide.ride) {\n            toast.success('Drive requested, finding a driver');\n            history.push(`/ride/${RequestRide.ride.id}`);\n          } else {\n            toast.error(RequestRide.error);\n          }\n        }\n      } else {\n        toast.warn('Destination is invalid');\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const handleAcceptRide = async (rideId: number) => {\n    try {\n      const response = await acceptRideMutation({\n        variables: {\n          rideId,\n        },\n      });\n      if (response.data) {\n        const { UpdateRideStatus } = response.data;\n\n        if (UpdateRideStatus.ok) {\n          history.push(`/ride/${rideId}`);\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <>\n      <HomePresenter\n        isMenuOpen={isMenuOpen}\n        toggleMenu={toggleMenu}\n        loading={loading}\n        mapRef={mapRef}\n        toAddress={toAddress}\n        onInputChange={handleInputAddress}\n        onAddressSubmit={submitAddress}\n        onRequestRide={submitRequestRide}\n        price={price}\n        isDriver={isDriver}\n        nearbyRide={nearbyRideData && nearbyRideData.GetNearByRide.ride}\n        onAcceptRide={handleAcceptRide}\n      />\n      {(pendingDirections || requestRideLoading || acceptRideLoading) && (\n        <Loader />\n      )}\n    </>\n  );\n};\n\nexport default HomeContainer;\n","import { GoogleApiWrapper } from 'google-maps-react';\nimport HomeContainer from './HomeContainer';\n\nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_GOOGLE_MAP_API_KEY || '',\n})(HomeContainer);\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport { Link, RouteComponentProps } from \"react-router-dom\";\nimport styled from 'styled-components';\nimport bgImage from '../../images/bg.png';\n\nconst Container = styled.div`\n  height: 100vh;\n`;\n\nconst Header = styled.header`\n  height: 70%;\n  background: linear-gradient(rgba(0, 153, 196, 0.5), rgba(0, 153, 196, 0.4)),\n    url(${bgImage});\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Logo = styled.div`\n  width: 110px;\n  height: 110px;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 -14px 28px rgba(0, 0, 0, 0.22);\n  text-transform: uppercase;\n  font-weight: 500;\n  font-size: 25px;\n`;\n\nconst Title = styled.h1``;\n\nconst Footer = styled.div``;\n\nconst Subtitle = styled.h2`\n  font-size: 30px;\n`;\n\nconst FakeInput = styled.div`\n  margin: 50px 0;\n  font-size: 22px;\n  font-weight: 300;\n`;\n\nconst PhoneLogin = styled.div`\n  padding: 20px;\n`;\n\nconst Grey = styled.span`\n  color: ${props => props.theme.grey};\n  margin-left: 10px;\n`;\n\nconst SocialLogin = styled.div`\n  border-top: 1px solid ${props => props.theme.grey};\n  padding: 30px 20px;\n`;\n\nconst SocialLink = styled.span`\n  color: ${props => props.theme.blue};\n  font-size: 20px;\n`;\n\ninterface IProps extends RouteComponentProps<any> {}\n\nconst LoginPresenter:React.FunctionComponent<IProps> = () => (\n  <Container>\n    <Helmet>\n      <title>Login | Nuber</title>\n    </Helmet>\n    <Header>\n      <Logo>\n        <Title>Nuber</Title>\n      </Logo>\n    </Header>\n    <Footer>\n      <Link to={\"/phone-login\"}>\n        <PhoneLogin>\n          <Subtitle>Get moving with Nuber</Subtitle>\n          <FakeInput>\n            <span role=\"img\" aria-label=\"korea emoji\">🇰🇷</span> +82 <Grey>Enter your mobile number</Grey>\n          </FakeInput>\n        </PhoneLogin>\n      </Link>\n      <Link to={\"/social-login\"}>\n        <SocialLogin>\n          <SocialLink>Or connect with social</SocialLink>\n        </SocialLogin>\n      </Link>\n      <Link to={\"/email-login\"}>\n        <SocialLogin>\n          <SocialLink>Or connect with email</SocialLink>\n        </SocialLogin>\n      </Link>\n    </Footer>\n  </Container>\n);\n\nexport default LoginPresenter;\n","const countries = [\n  { name: \"Afghanistan\", dial_code: \"+93\", code: \"AF\", flag: \"🇦🇫\" },\n  { name: \"Åland Islands\", dial_code: \"+358\", code: \"AX\", flag: \"🇦🇽\" },\n  { name: \"Albania\", dial_code: \"+355\", code: \"AL\", flag: \"🇦🇱\" },\n  { name: \"Algeria\", dial_code: \"+213\", code: \"DZ\", flag: \"🇩🇿\" },\n  {\n    name: \"American Samoa\",\n    flag: \"🇺🇸\",\n    dial_code: \"+1684\",\n    code: \"AS\"\n  },\n  { name: \"Andorra\", dial_code: \"+376\", code: \"AD\", flag: \"🇦🇩\" },\n  { name: \"Angola\", dial_code: \"+244\", code: \"AO\", flag: \"🇦🇴\" },\n  { name: \"Anguilla\", dial_code: \"+1264\", code: \"AI\", flag: \"🇦🇮\" },\n  { name: \"Antarctica\", dial_code: \"+672\", code: \"AQ\", flag: \"🇦🇶\" },\n  {\n    name: \"Antigua and Barbuda\",\n    dial_code: \"+1268\",\n    code: \"AG\",\n    flag: \"🇦🇬\"\n  },\n  { name: \"Argentina\", dial_code: \"+54\", code: \"AR\", flag: \"🇦🇷\" },\n  { name: \"Armenia\", dial_code: \"+374\", code: \"AM\", flag: \"🇦🇲\" },\n  { name: \"Aruba\", dial_code: \"+297\", code: \"AW\", flag: \"🇦🇼\" },\n  { name: \"Australia\", dial_code: \"+61\", code: \"AU\", flag: \"🇦🇺\" },\n  { name: \"Austria\", dial_code: \"+43\", code: \"AT\", flag: \"🇦🇹\" },\n  { name: \"Azerbaijan\", dial_code: \"+994\", code: \"AZ\", flag: \"🇦🇿\" },\n  { name: \"Bahamas\", dial_code: \"+1242\", code: \"BS\", flag: \"🇧🇸\" },\n  { name: \"Bahrain\", dial_code: \"+973\", code: \"BH\", flag: \"🇧🇸\" },\n  { name: \"Bangladesh\", dial_code: \"+880\", code: \"BD\", flag: \"🇧🇩\" },\n  { name: \"Barbados\", dial_code: \"+1246\", code: \"BB\", flag: \"🇧🇧\" },\n  { name: \"Belarus\", dial_code: \"+375\", code: \"BY\", flag: \"🇧🇾\" },\n  { name: \"Belgium\", dial_code: \"+32\", code: \"BE\", flag: \"🇧🇪\" },\n  { name: \"Belize\", dial_code: \"+501\", code: \"BZ\", flag: \"🇧🇿\" },\n  { name: \"Benin\", dial_code: \"+229\", code: \"BJ\", flag: \"🇧🇯\" },\n  { name: \"Bermuda\", dial_code: \"+1441\", code: \"BM\", flag: \"🇧🇲\" },\n  { name: \"Bhutan\", dial_code: \"+975\", code: \"BT\", flag: \"🇧🇹\" },\n  {\n    name: \"Bolivia, Plurinational State of bolivia\",\n    dial_code: \"+591\",\n    code: \"BO\",\n    flag: \"🇧🇴\"\n  },\n  {\n    name: \"Bosnia and Herzegovina\",\n    dial_code: \"+387\",\n    code: \"BA\",\n    flag: \"🇧🇦\"\n  },\n  { name: \"Botswana\", dial_code: \"+267\", code: \"BW\", flag: \"🇧🇼\" },\n  { name: \"Bouvet Island\", dial_code: \"+47\", code: \"BV\", flag: \"🏳\" },\n  { name: \"Brazil\", dial_code: \"+55\", code: \"BR\", flag: \"🇧🇷\" },\n  {\n    name: \"British Indian Ocean Territory\",\n    dial_code: \"+246\",\n    code: \"IO\",\n    flag: \"🇮🇴\"\n  },\n  {\n    name: \"Brunei Darussalam\",\n    dial_code: \"+673\",\n    code: \"BN\",\n    flag: \"🇧🇳\"\n  },\n  { name: \"Bulgaria\", dial_code: \"+359\", code: \"BG\", flag: \"🇧🇬\" },\n  { name: \"Burkina Faso\", dial_code: \"+226\", code: \"BF\", flag: \"🇧🇫\" },\n  { name: \"Burundi\", dial_code: \"+257\", code: \"BI\", flag: \"🇧🇮\" },\n  { name: \"Cambodia\", dial_code: \"+855\", code: \"KH\", flag: \"🇰🇭\" },\n  { name: \"Cameroon\", dial_code: \"+237\", code: \"CM\", flag: \"🇨🇲\" },\n  { name: \"Canada\", dial_code: \"+1\", code: \"CA\", flag: \"🇨🇦\" },\n  { name: \"Cape Verde\", dial_code: \"+238\", code: \"CV\", flag: \"🇨🇻\" },\n  {\n    name: \"Cayman Islands\",\n    dial_code: \"+ 345\",\n    code: \"KY\",\n    flag: \"🇰🇾\"\n  },\n  {\n    name: \"Central African Republic\",\n    dial_code: \"+236\",\n    code: \"CF\",\n    flag: \"🇨🇫\"\n  },\n  { name: \"Chad\", dial_code: \"+235\", code: \"TD\", flag: \"🇹🇩\" },\n  { name: \"Chile\", dial_code: \"+56\", code: \"CL\", flag: \"🇨🇱\" },\n  { name: \"China\", dial_code: \"+86\", code: \"CN\", flag: \"🇨🇳\" },\n  {\n    name: \"Christmas Island\",\n    dial_code: \"+61\",\n    code: \"CX\",\n    flag: \"🇨🇽\"\n  },\n  {\n    name: \"Cocos (Keeling) Islands\",\n    dial_code: \"+61\",\n    code: \"CC\",\n    flag: \"🇨🇨\"\n  },\n  { name: \"Colombia\", dial_code: \"+57\", code: \"CO\", flag: \"\" },\n  { name: \"Comoros\", dial_code: \"+269\", code: \"KM\", flag: \"🇰🇲\" },\n  { name: \"Congo\", dial_code: \"+242\", code: \"CG\", flag: \"🇨🇬\" },\n  {\n    name: \"Congo, The Democratic Republic of the Congo\",\n    dial_code: \"+243\",\n    code: \"CD\",\n    flag: \"🇨🇩\"\n  },\n  { name: \"Cook Islands\", dial_code: \"+682\", code: \"CK\", flag: \"🇨🇰\" },\n  { name: \"Costa Rica\", dial_code: \"+506\", code: \"CR\", flag: \"🇨🇷\" },\n  { name: \"Cote d'Ivoire\", dial_code: \"+225\", code: \"CI\", flag: \"🇨🇮\" },\n  { name: \"Croatia\", dial_code: \"+385\", code: \"HR\", flag: \"🇭🇷\" },\n  { name: \"Cuba\", dial_code: \"+53\", code: \"CU\", flag: \"🇨🇺\" },\n  { name: \"Cyprus\", dial_code: \"+357\", code: \"CY\", flag: \"🇨🇾\" },\n  { name: \"Czech Republic\", dial_code: \"+420\", code: \"CZ\", flag: \"🇨🇿\" },\n  { name: \"Denmark\", dial_code: \"+45\", code: \"DK\", flag: \"🇩🇰\" },\n  { name: \"Djibouti\", dial_code: \"+253\", code: \"DJ\", flag: \"🇩🇯\" },\n  { name: \"Dominica\", dial_code: \"+1767\", code: \"DM\", flag: \"🇩🇲\" },\n  {\n    name: \"Dominican Republic\",\n    dial_code: \"+1849\",\n    code: \"DO\",\n    flag: \"🇨🇩\"\n  },\n  { name: \"Ecuador\", dial_code: \"+593\", code: \"EC\", flag: \"🇪🇨\" },\n  { name: \"Egypt\", dial_code: \"+20\", code: \"EG\", flag: \"🇪🇬\" },\n  { name: \"El Salvador\", dial_code: \"+503\", code: \"SV\", flag: \"🇸🇻\" },\n  {\n    name: \"Equatorial Guinea\",\n    dial_code: \"+240\",\n    code: \"GQ\",\n    flag: \"🇬🇶\"\n  },\n  { name: \"Eritrea\", dial_code: \"+291\", code: \"ER\", flag: \"🇪🇷\" },\n  { name: \"Estonia\", dial_code: \"+372\", code: \"EE\", flag: \"🇪🇪\" },\n  { name: \"Ethiopia\", dial_code: \"+251\", code: \"ET\", flag: \"🇪🇹\" },\n  {\n    name: \"Falkland Islands (Malvinas)\",\n    dial_code: \"+500\",\n    code: \"FK\",\n    flag: \"🇫🇰\"\n  },\n  { name: \"Faroe Islands\", dial_code: \"+298\", code: \"FO\", flag: \"\" },\n  { name: \"Fiji\", dial_code: \"+679\", code: \"FJ\", flag: \"🇫🇯\" },\n  { name: \"Finland\", dial_code: \"+358\", code: \"FI\", flag: \"🇫🇮\" },\n  { name: \"France\", dial_code: \"+33\", code: \"FR\", flag: \"🇫🇷\" },\n  { name: \"French Guiana\", dial_code: \"+594\", code: \"GF\", flag: \"🇬🇫\" },\n  {\n    name: \"French Polynesia\",\n    dial_code: \"+689\",\n    code: \"PF\",\n    flag: \"🇵🇫\"\n  },\n  {\n    name: \"French Southern Territories\",\n    dial_code: \"+262\",\n    code: \"TF\",\n    flag: \"🇹🇫\"\n  },\n  { name: \"Gabon\", dial_code: \"+241\", code: \"GA\", flag: \"🇬🇦\" },\n  { name: \"Gambia\", dial_code: \"+220\", code: \"GM\", flag: \"🇬🇲\" },\n  { name: \"Georgia\", dial_code: \"+995\", code: \"GE\", flag: \"🇬🇪\" },\n  { name: \"Germany\", dial_code: \"+49\", code: \"DE\", flag: \"🇩🇪\" },\n  { name: \"Ghana\", dial_code: \"+233\", code: \"GH\", flag: \"🇬🇭\" },\n  { name: \"Gibraltar\", dial_code: \"+350\", code: \"GI\", flag: \"🇬🇮\" },\n  { name: \"Greece\", dial_code: \"+30\", code: \"GR\", flag: \"🇬🇷\" },\n  { name: \"Greenland\", dial_code: \"+299\", code: \"GL\", flag: \"🇬🇱\" },\n  { name: \"Grenada\", dial_code: \"+1473\", code: \"GD\", flag: \"🇬🇩\" },\n  { name: \"Guadeloupe\", dial_code: \"+590\", code: \"GP\", flag: \"🇬🇵\" },\n  { name: \"Guam\", dial_code: \"+1671\", code: \"GU\", flag: \"🇬🇺\" },\n  { name: \"Guatemala\", dial_code: \"+502\", code: \"GT\", flag: \"🇬🇹\" },\n  { name: \"Guernsey\", dial_code: \"+44\", code: \"GG\", flag: \"🇬🇬\" },\n  { name: \"Guinea\", dial_code: \"+224\", code: \"GN\", flag: \"🇬🇳\" },\n  { name: \"Guinea-Bissau\", dial_code: \"+245\", code: \"GW\", flag: \"🇬🇼\" },\n  { name: \"Guyana\", dial_code: \"+592\", code: \"GY\", flag: \"🇬🇾\" },\n  { name: \"Haiti\", dial_code: \"+509\", code: \"HT\", flag: \"🇭🇹\" },\n  {\n    name: \"Heard Island and Mcdonald Islands\",\n    dial_code: \"+0\",\n    code: \"HM\",\n    flag: \"🏳\"\n  },\n  {\n    name: \"Holy See (Vatican City State)\",\n    dial_code: \"+379\",\n    code: \"VA\",\n    flag: \"🇻🇦\"\n  },\n  { name: \"Honduras\", dial_code: \"+504\", code: \"HN\", flag: \"🇭🇳\" },\n  { name: \"Hong Kong\", dial_code: \"+852\", code: \"HK\", flag: \"🇭🇰\" },\n  { name: \"Hungary\", dial_code: \"+36\", code: \"HU\", flag: \"🇭🇺\" },\n  { name: \"Iceland\", dial_code: \"+354\", code: \"IS\", flag: \"🇮🇸\" },\n  { name: \"India\", dial_code: \"+91\", code: \"IN\", flag: \"🇮🇳\" },\n  { name: \"Indonesia\", dial_code: \"+62\", code: \"ID\", flag: \"🇮🇩\" },\n  {\n    name: \"Iran, Islamic Republic of Persian Gulf\",\n    dial_code: \"+98\",\n    code: \"IR\",\n    flag: \"🇮🇷\"\n  },\n  { name: \"Iraq\", dial_code: \"+964\", code: \"IQ\", flag: \"🇮🇶\" },\n  { name: \"Ireland\", dial_code: \"+353\", code: \"IE\", flag: \"🇮🇪\" },\n  { name: \"Isle of Man\", dial_code: \"+44\", code: \"IM\", flag: \"🇮🇲\" },\n  { name: \"Israel\", dial_code: \"+972\", code: \"IL\", flag: \"🇮🇱\" },\n  { name: \"Italy\", dial_code: \"+39\", code: \"IT\", flag: \"🇮🇹\" },\n  { name: \"Jamaica\", dial_code: \"+1876\", code: \"JM\", flag: \"🇯🇲\" },\n  { name: \"Japan\", dial_code: \"+81\", code: \"JP\", flag: \"🇯🇵\" },\n  { name: \"Jersey\", dial_code: \"+44\", code: \"JE\", flag: \"🇯🇪\" },\n  { name: \"Jordan\", dial_code: \"+962\", code: \"JO\", flag: \"🇯🇴\" },\n  { name: \"Kazakhstan\", dial_code: \"+7\", code: \"KZ\", flag: \"🇰🇿\" },\n  { name: \"Kenya\", dial_code: \"+254\", code: \"KE\", flag: \"🇰🇪\" },\n  { name: \"Kiribati\", dial_code: \"+686\", code: \"KI\", flag: \"🇰🇮\" },\n  {\n    name: \"Korea, Democratic People's Republic of Korea\",\n    dial_code: \"+850\",\n    code: \"KP\",\n    flag: \"🇰🇵\"\n  },\n  {\n    name: \"Korea, Republic of South Korea\",\n    dial_code: \"+82\",\n    code: \"KR\",\n    flag: \"🇰🇷\"\n  },\n  { name: \"Kosovo\", dial_code: \"+383\", code: \"XK\", flag: \"🇽🇰\" },\n  { name: \"Kuwait\", dial_code: \"+965\", code: \"KW\", flag: \"🇰🇼\" },\n  { name: \"Kyrgyzstan\", dial_code: \"+996\", code: \"KG\", flag: \"🇰🇬\" },\n  { name: \"Laos\", dial_code: \"+856\", code: \"LA\", flag: \"🇱🇦\" },\n  { name: \"Latvia\", dial_code: \"+371\", code: \"LV\", flag: \"🇱🇻\" },\n  { name: \"Lebanon\", dial_code: \"+961\", code: \"LB\", flag: \"🇱🇧\" },\n  { name: \"Lesotho\", dial_code: \"+266\", code: \"LS\", flag: \"🇱🇸\" },\n  { name: \"Liberia\", dial_code: \"+231\", code: \"LR\", flag: \"🇱🇷\" },\n  {\n    name: \"Libyan Arab Jamahiriya\",\n    dial_code: \"+218\",\n    code: \"LY\",\n    flag: \"🇱🇾\"\n  },\n  { name: \"Liechtenstein\", dial_code: \"+423\", code: \"LI\", flag: \"🇱🇮\" },\n  { name: \"Lithuania\", dial_code: \"+370\", code: \"LT\", flag: \"🇱🇹\" },\n  { name: \"Luxembourg\", dial_code: \"+352\", code: \"LU\", flag: \"🇱🇺\" },\n  { name: \"Macao\", dial_code: \"+853\", code: \"MO\", flag: \"🇲🇴\" },\n  { name: \"Macedonia\", dial_code: \"+389\", code: \"MK\", flag: \"🇲🇰\" },\n  { name: \"Madagascar\", dial_code: \"+261\", code: \"MG\", flag: \"🇲🇬\" },\n  { name: \"Malawi\", dial_code: \"+265\", code: \"MW\", flag: \"🇲🇼\" },\n  { name: \"Malaysia\", dial_code: \"+60\", code: \"MY\", flag: \"🇲🇾\" },\n  { name: \"Maldives\", dial_code: \"+960\", code: \"MV\", flag: \"🇲🇻\" },\n  { name: \"Mali\", dial_code: \"+223\", code: \"ML\", flag: \"🇲🇱\" },\n  { name: \"Malta\", dial_code: \"+356\", code: \"MT\", flag: \"🇲🇹\" },\n  {\n    name: \"Marshall Islands\",\n    dial_code: \"+692\",\n    code: \"MH\",\n    flag: \"🇲🇭\"\n  },\n  { name: \"Martinique\", dial_code: \"+596\", code: \"MQ\", flag: \"🇲🇶\" },\n  { name: \"Mauritania\", dial_code: \"+222\", code: \"MR\", flag: \"🇲🇷\" },\n  { name: \"Mauritius\", dial_code: \"+230\", code: \"MU\", flag: \"🇲🇺\" },\n  { name: \"Mayotte\", dial_code: \"+262\", code: \"YT\", flag: \"🇾🇹\" },\n  { name: \"Mexico\", dial_code: \"+52\", code: \"MX\", flag: \"🇲🇽\" },\n  {\n    name: \"Micronesia, Federated States of Micronesia\",\n    dial_code: \"+691\",\n    code: \"FM\",\n    flag: \"🇫🇲\"\n  },\n  { name: \"Moldova\", dial_code: \"+373\", code: \"MD\", flag: \"🇲🇩\" },\n  { name: \"Monaco\", dial_code: \"+377\", code: \"MC\", flag: \"🇲🇨\" },\n  { name: \"Mongolia\", dial_code: \"+976\", code: \"MN\", flag: \"🇲🇳\" },\n  { name: \"Montenegro\", dial_code: \"+382\", code: \"ME\", flag: \"🇲🇪\" },\n  { name: \"Montserrat\", dial_code: \"+1664\", code: \"MS\", flag: \"🇲🇸\" },\n  { name: \"Morocco\", dial_code: \"+212\", code: \"MA\", flag: \"🇲🇦\" },\n  { name: \"Mozambique\", dial_code: \"+258\", code: \"MZ\", flag: \"🇲🇿\" },\n  { name: \"Myanmar\", dial_code: \"+95\", code: \"MM\", flag: \"🇲🇲\" },\n  { name: \"Namibia\", dial_code: \"+264\", code: \"NA\", flag: \"🇳🇦\" },\n  { name: \"Nauru\", dial_code: \"+674\", code: \"NR\", flag: \"🇳🇷\" },\n  { name: \"Nepal\", dial_code: \"+977\", code: \"NP\", flag: \"🇳🇵\" },\n  { name: \"Netherlands\", dial_code: \"+31\", code: \"NL\", flag: \"🇳🇱\" },\n  {\n    name: \"Netherlands Antilles\",\n    dial_code: \"+599\",\n    code: \"AN\",\n    flag: \"🇳🇱\"\n  },\n  { name: \"New Caledonia\", dial_code: \"+687\", code: \"NC\", flag: \"🇳🇨\" },\n  { name: \"New Zealand\", dial_code: \"+64\", code: \"NZ\", flag: \"🇳🇿\" },\n  { name: \"Nicaragua\", dial_code: \"+505\", code: \"NI\", flag: \"🇳🇮\" },\n  { name: \"Niger\", dial_code: \"+227\", code: \"NE\", flag: \"🇳🇪\" },\n  { name: \"Nigeria\", dial_code: \"+234\", code: \"NG\", flag: \"🇳🇬\" },\n  { name: \"Niue\", dial_code: \"+683\", code: \"NU\", flag: \"🇳🇺\" },\n  { name: \"Norfolk Island\", dial_code: \"+672\", code: \"NF\", flag: \"🇳🇫\" },\n  {\n    name: \"Northern Mariana Islands\",\n    dial_code: \"+1670\",\n    code: \"MP\",\n    flag: \"🏳\"\n  },\n  { name: \"Norway\", dial_code: \"+47\", code: \"NO\", flag: \"🇳🇴\" },\n  { name: \"Oman\", dial_code: \"+968\", code: \"OM\", flag: \"🇴🇲\" },\n  { name: \"Pakistan\", dial_code: \"+92\", code: \"PK\", flag: \"🇵🇰\" },\n  { name: \"Palau\", dial_code: \"+680\", code: \"PW\", flag: \"🇵🇼\" },\n  {\n    name: \"Palestinian Territory, Occupied\",\n    dial_code: \"+970\",\n    code: \"PS\",\n    flag: \"🇵🇸\"\n  },\n  { name: \"Panama\", dial_code: \"+507\", code: \"PA\", flag: \"🇵🇦\" },\n  {\n    name: \"Papua New Guinea\",\n    dial_code: \"+675\",\n    code: \"PG\",\n    flag: \"🇵🇬\"\n  },\n  { name: \"Paraguay\", dial_code: \"+595\", code: \"PY\", flag: \"🇵🇾\" },\n  { name: \"Peru\", dial_code: \"+51\", code: \"PE\", flag: \"🇵🇪\" },\n  { name: \"Philippines\", dial_code: \"+63\", code: \"PH\", flag: \"🇵🇭\" },\n  { name: \"Pitcairn\", dial_code: \"+64\", code: \"PN\", flag: \"🇵🇳\" },\n  { name: \"Poland\", dial_code: \"+48\", code: \"PL\", flag: \"🇵🇱\" },\n  { name: \"Portugal\", dial_code: \"+351\", code: \"PT\", flag: \"🇵🇹\" },\n  { name: \"Puerto Rico\", dial_code: \"+1939\", code: \"PR\", flag: \"🇵🇷\" },\n  { name: \"Qatar\", dial_code: \"+974\", code: \"QA\", flag: \"🇶🇦\" },\n  { name: \"Romania\", dial_code: \"+40\", code: \"RO\", flag: \"🇷🇴\" },\n  { name: \"Russia\", dial_code: \"+7\", code: \"RU\", flag: \"🇷🇺\" },\n  { name: \"Rwanda\", dial_code: \"+250\", code: \"RW\", flag: \"🇷🇼\" },\n  { name: \"Reunion\", dial_code: \"+262\", code: \"RE\", flag: \"🇫🇷\" },\n  {\n    name: \"Saint Barthelemy\",\n    dial_code: \"+590\",\n    code: \"BL\",\n    flag: \"🇧🇱\"\n  },\n  {\n    name: \"Saint Helena, Ascension and Tristan Da Cunha\",\n    dial_code: \"+290\",\n    code: \"SH\",\n    flag: \"🇸🇭\"\n  },\n  {\n    name: \"Saint Kitts and Nevis\",\n    dial_code: \"+1869\",\n    code: \"KN\",\n    flag: \"🇰🇳\"\n  },\n  { name: \"Saint Lucia\", dial_code: \"+1758\", code: \"LC\", flag: \"🇱🇨\" },\n  { name: \"Saint Martin\", dial_code: \"+590\", code: \"MF\", flag: \"🏳\" },\n  {\n    name: \"Saint Pierre and Miquelon\",\n    dial_code: \"+508\",\n    code: \"PM\",\n    flag: \"🇵🇲\"\n  },\n  {\n    name: \"Saint Vincent and the Grenadines\",\n    dial_code: \"+1784\",\n    code: \"VC\",\n    flag: \"🇻🇨\"\n  },\n  { name: \"Samoa\", dial_code: \"+685\", code: \"WS\", flag: \"🇼🇸\" },\n  { name: \"San Marino\", dial_code: \"+378\", code: \"SM\", flag: \"🇸🇲\" },\n  {\n    name: \"Sao Tome and Principe\",\n    dial_code: \"+239\",\n    code: \"ST\",\n    flag: \"🇸🇹\"\n  },\n  { name: \"Saudi Arabia\", dial_code: \"+966\", code: \"SA\", flag: \"🇸🇦\" },\n  { name: \"Senegal\", dial_code: \"+221\", code: \"SN\", flag: \"🇸🇳\" },\n  { name: \"Serbia\", dial_code: \"+381\", code: \"RS\", flag: \"🇷🇸\" },\n  { name: \"Seychelles\", dial_code: \"+248\", code: \"SC\", flag: \"🇸🇨\" },\n  { name: \"Sierra Leone\", dial_code: \"+232\", code: \"SL\", flag: \"🇸🇱\" },\n  { name: \"Singapore\", dial_code: \"+65\", code: \"SG\", flag: \"🇸🇬\" },\n  { name: \"Slovakia\", dial_code: \"+421\", code: \"SK\", flag: \"🇸🇰\" },\n  { name: \"Slovenia\", dial_code: \"+386\", code: \"SI\", flag: \"🇸🇮\" },\n  {\n    name: \"Solomon Islands\",\n    dial_code: \"+677\",\n    code: \"SB\",\n    flag: \"🇸🇧\"\n  },\n  { name: \"Somalia\", dial_code: \"+252\", code: \"SO\", flag: \"🇸🇴\" },\n  { name: \"South Africa\", dial_code: \"+27\", code: \"ZA\", flag: \"🇿🇦\" },\n  { name: \"South Sudan\", dial_code: \"+211\", code: \"SS\", flag: \"🇸🇸\" },\n  {\n    name: \"South Georgia and the South Sandwich Islands\",\n    dial_code: \"+500\",\n    code: \"GS\",\n    flag: \"🇬🇸\"\n  },\n  { name: \"Spain\", dial_code: \"+34\", code: \"ES\", flag: \"🇪🇸\" },\n  { name: \"Sri Lanka\", dial_code: \"+94\", code: \"LK\", flag: \"🇱🇰\" },\n  { name: \"Sudan\", dial_code: \"+249\", code: \"SD\", flag: \"🇸🇩\" },\n  { name: \"Suriname\", dial_code: \"+597\", code: \"SR\", flag: \"🇸🇷\" },\n  {\n    name: \"Svalbard and Jan Mayen\",\n    dial_code: \"+47\",\n    code: \"SJ\",\n    flag: \"🇩🇰\"\n  },\n  { name: \"Swaziland\", dial_code: \"+268\", code: \"SZ\", flag: \"🇸🇿\" },\n  { name: \"Sweden\", dial_code: \"+46\", code: \"SE\", flag: \"🇸🇪\" },\n  { name: \"Switzerland\", dial_code: \"+41\", code: \"CH\", flag: \"🇨🇭\" },\n  {\n    name: \"Syrian Arab Republic\",\n    dial_code: \"+963\",\n    code: \"SY\",\n    flag: \"🇸🇾\"\n  },\n  { name: \"Taiwan\", dial_code: \"+886\", code: \"TW\", flag: \"🇹🇼\" },\n  { name: \"Tajikistan\", dial_code: \"+992\", code: \"TJ\", flag: \"🇹🇯\" },\n  {\n    name: \"Tanzania, United Republic of Tanzania\",\n    dial_code: \"+255\",\n    code: \"TZ\",\n    flag: \"🇹🇿\"\n  },\n  { name: \"Thailand\", dial_code: \"+66\", code: \"TH\", flag: \"🇹🇭\" },\n  { name: \"Timor-Leste\", dial_code: \"+670\", code: \"TL\", flag: \"🇹🇱\" },\n  { name: \"Togo\", dial_code: \"+228\", code: \"TG\", flag: \"🇹🇬\" },\n  { name: \"Tokelau\", dial_code: \"+690\", code: \"TK\", flag: \"🇹🇰\" },\n  { name: \"Tonga\", dial_code: \"+676\", code: \"TO\", flag: \"🇹🇴\" },\n  {\n    name: \"Trinidad and Tobago\",\n    dial_code: \"+1868\",\n    code: \"TT\",\n    flag: \"🇹🇹\"\n  },\n  { name: \"Tunisia\", dial_code: \"+216\", code: \"TN\", flag: \"🇹🇳\" },\n  { name: \"Turkey\", dial_code: \"+90\", code: \"TR\", flag: \"🇹🇷\" },\n  { name: \"Turkmenistan\", dial_code: \"+993\", code: \"TM\", flag: \"🇹🇲\" },\n  {\n    name: \"Turks and Caicos Islands\",\n    dial_code: \"+1649\",\n    code: \"TC\",\n    flag: \"🇹🇨\"\n  },\n  { name: \"Tuvalu\", dial_code: \"+688\", code: \"TV\", flag: \"🇹🇻\" },\n  { name: \"Uganda\", dial_code: \"+256\", code: \"UG\", flag: \"🇺🇬\" },\n  { name: \"Ukraine\", dial_code: \"+380\", code: \"UA\", flag: \"🇺🇦\" },\n  {\n    name: \"United Arab Emirates\",\n    dial_code: \"+971\",\n    code: \"AE\",\n    flag: \"🇦🇪\"\n  },\n  { name: \"United Kingdom\", dial_code: \"+44\", code: \"GB\", flag: \"🇬🇧\" },\n  { name: \"United States\", dial_code: \"+1\", code: \"US\", flag: \"🇺🇸\" },\n  { name: \"Uruguay\", dial_code: \"+598\", code: \"UY\", flag: \"🇺🇾\" },\n  { name: \"Uzbekistan\", dial_code: \"+998\", code: \"UZ\", flag: \"🇺🇿\" },\n  { name: \"Vanuatu\", dial_code: \"+678\", code: \"VU\", flag: \"🇻🇺\" },\n  {\n    name: \"Venezuela, Bolivarian Republic of Venezuela\",\n    dial_code: \"+58\",\n    code: \"VE\",\n    flag: \"🇻🇪\"\n  },\n  { name: \"Vietnam\", dial_code: \"+84\", code: \"VN\", flag: \"🇻🇳\" },\n  {\n    name: \"Virgin Islands, British\",\n    dial_code: \"+1284\",\n    code: \"VG\",\n    flag: \"🇻🇬\"\n  },\n  {\n    name: \"Virgin Islands, U.S.\",\n    dial_code: \"+1340\",\n    code: \"VI\",\n    flag: \"🇻🇮\"\n  },\n  {\n    name: \"Wallis and Futuna\",\n    dial_code: \"+681\",\n    code: \"WF\",\n    flag: \"🇼🇫\"\n  },\n  { name: \"Yemen\", dial_code: \"+967\", code: \"YE\", flag: \"🇾🇪\" },\n  { name: \"Zambia\", dial_code: \"+260\", code: \"ZM\", flag: \"🇿🇲\" },\n  { name: \"Zimbabwe\", dial_code: \"+263\", code: \"ZW\", flag: \"🇿🇼\" }\n];\n\nexport default countries;","import React from 'react';\nimport Helmet from 'react-helmet';\nimport styled from 'styled-components';\nimport BackArrow from '../../components/BackArrow';\nimport Input from '../../components/Input';\nimport countries from '../../countries';\n\nconst Container = styled.div`\n  margin-top: 30px;\n  padding: 50px 20px;\n`;\n\nconst BackArrowExtended = styled(BackArrow)`\n  position: absolute;\n  top: 20px;\n  left: 20px;\n`;\n\nconst Title = styled.h2`\n  font-size: 25px;\n  margin-bottom: 40px;\n`;\n\nconst CountrySelect = styled.select`\n  font-size: 20px;\n  color: #2c3e50;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  background-color: white;\n  border: 0;\n  font-family: 'Maven Pro', sans-serif;\n  margin-bottom: 20px;\n  width: 90%;\n`;\n\nconst CountryOption = styled.option``;\n\nconst Form = styled.form``;\n\nconst Button = styled.button`\n  box-shadow: 0 18px 35px rgba(50, 50, 93, 0.1), 0 8px 15px rgba(0, 0, 0, 0.07);\n  background-color: black;\n  color: white;\n  padding: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 50px;\n  right: 50px;\n  cursor: pointer;\n`;\n\ninterface IProps {\n  countryCode: string;\n  phoneNumber: string;\n  onInputChange: React.ChangeEventHandler<HTMLInputElement | HTMLSelectElement>;\n  onSubmit: React.FormEventHandler<HTMLFormElement>;\n}\n\nconst PhoneLoginPresenter: React.FunctionComponent<IProps> = ({\n  countryCode,\n  phoneNumber,\n  onInputChange,\n  onSubmit,\n}) => (\n  <Container>\n    <Helmet>\n      <title>Phone Login | Number</title>\n    </Helmet>\n    <BackArrowExtended backTo={'/'} />\n    <Title>Enter your mobile number</Title>\n    <CountrySelect\n      name=\"countryCode\"\n      value={countryCode}\n      onChange={onInputChange}\n    >\n      {countries.map((country, index) => (\n        <CountryOption key={index} value={country.dial_code}>\n          {country.flag} {country.name} ({country.dial_code})\n        </CountryOption>\n      ))}\n    </CountrySelect>\n    <Form onSubmit={onSubmit}>\n      <Input\n        placeholder={'053 690 2129'}\n        name=\"phoneNumber\"\n        value={phoneNumber}\n        onChange={onInputChange}\n      />\n      <Button>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill={'white'}\n        >\n          <path d=\"M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z\" />\n        </svg>\n      </Button>\n    </Form>\n  </Container>\n);\n\nexport default PhoneLoginPresenter;\n","import { gql } from 'apollo-boost';\n\nexport const PHONE_SIGN_IN = gql`\n    mutation startPhoneVerification($phoneNumber: String!) {\n        StartPhoneVerification(phoneNumber: $phoneNumber) {\n            ok\n            error\n        }\n    }\n`;\n","import { useMutation } from '@apollo/react-hooks';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Loader from '../../components/Loader';\nimport {\n  startPhoneVerification,\n  startPhoneVerificationVariables,\n} from '../../types/api';\nimport PhoneLoginPresenter from './PhoneLoginPresenter';\nimport { PHONE_SIGN_IN } from './PhoneQueries';\n\nconst PhoneLoginContainer: React.FunctionComponent = () => {\n  const history = useHistory();\n  const [countryCode, setCountryCode] = useState<string>('+82');\n  const [phoneNumber, setPhoneNumber] = useState<string>('');\n  const fullPhoneNumber = `${countryCode}${phoneNumber}`;\n  const [mutation, { loading }] = useMutation<\n    startPhoneVerification,\n    startPhoneVerificationVariables\n  >(PHONE_SIGN_IN, {\n    variables: { phoneNumber: fullPhoneNumber },\n  });\n\n  const onInputChange: React.ChangeEventHandler<\n    HTMLInputElement | HTMLSelectElement\n  > = event => {\n    const {\n      target: { name, value },\n    } = event;\n\n    if (name === 'countryCode') {\n      setCountryCode(value);\n    }\n    if (name === 'phoneNumber') {\n      setPhoneNumber(value);\n    }\n  };\n\n  const onSubmit: React.FormEventHandler<HTMLFormElement> = async event => {\n    event.preventDefault();\n\n    const isValid = /^\\+[1-9]{1}[0-9]{7,12}$/.test(\n      fullPhoneNumber,\n    );\n\n    if (isValid) {\n      const { data } = await mutation();\n\n      if (data) {\n        const { StartPhoneVerification } = data;\n\n        if (StartPhoneVerification.ok) {\n          toast.success('SMS Sent!');\n          history.push({\n            pathname: '/verify-phone',\n            state: { phoneNumber: fullPhoneNumber },\n          });\n        } else {\n          toast.error(StartPhoneVerification.error);\n        }\n      }\n    } else {\n      toast.error('Please write a valid phone number');\n    }\n  };\n\n  return (\n    <>\n      <PhoneLoginPresenter\n        countryCode={countryCode}\n        phoneNumber={phoneNumber}\n        onInputChange={onInputChange}\n        onSubmit={onSubmit}\n      />\n      {loading && <Loader />}\n    </>\n  );\n};\n\nexport default PhoneLoginContainer;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst PlaceWrapper = styled.div`\n  margin: 15px 0;\n  display: flex;\n  align-items: center;\n  & i {\n    font-size: 12px;\n  }\n`;\n\nconst Container = styled.div`\n  margin-left: 10px;\n`;\n\nconst Name = styled.span`\n  display: block;\n`;\n\nconst Icon = styled.span`\n  cursor: pointer;\n`;\n\nconst Address = styled.span`\n  color: ${props => props.theme.grey};\n  font-size: 14px;\n`;\n\ninterface IProps {\n  name: string;\n  address: string;\n  fav: boolean;\n  onClickFav: () => void;\n}\n\nconst PlacePresenter: React.FC<IProps> = ({ name, address, fav, onClickFav }) => (\n  <PlaceWrapper>\n    <Icon onClick={onClickFav}>{fav ? '★' : '✩'}</Icon>\n    <Container>\n      <Name>{name}</Name>\n      <Address>{address}</Address>\n    </Container>\n  </PlaceWrapper>\n);\n\nexport default PlacePresenter;\n","import { gql } from 'apollo-boost';\n\nexport const EDIT_PLACE = gql`\n    mutation editPlace(\n        $placeId: Int!\n        $isFav: Boolean!\n    ) {\n        EditPlace(\n            placeId: $placeId\n            isFav: $isFav\n        ) {\n            ok\n            error\n        }\n    }\n`;","import { useMutation } from '@apollo/react-hooks';\nimport _ from 'lodash';\nimport React from 'react';\nimport { MY_PLACES } from '../../sharedQueries';\nimport { editPlace, editPlaceVariables, myPlaces } from '../../types/api';\nimport PlacesPresenter from './PlacePresenter';\nimport { EDIT_PLACE } from './PlaceQueries';\n\ninterface IProps {\n  placeId: number;\n  fav: boolean;\n  name: string;\n  address: string;\n}\n\nconst PlaceContainer: React.FC<IProps> = ({ placeId, fav, name, address }) => {\n  const [editPlaceMutation] = useMutation<editPlace, editPlaceVariables>(\n    EDIT_PLACE,\n  );\n\n  const handleFav = async () => {\n    try {\n      await editPlaceMutation({\n        update: (cache, result) => {\n          if (result.data) {\n            const { EditPlace } = result.data;\n\n            if (EditPlace.ok) {\n              const myPlacesQuery: myPlaces | null = _.cloneDeep(cache.readQuery({\n                query: MY_PLACES,\n              }));\n\n              if (myPlacesQuery) {\n                const { GetMyPlaces: { places } } = myPlacesQuery;\n\n                if (places) {\n                  const index = places.findIndex(p => p!.id === placeId);\n                  places[index]!.isFav = !fav;\n                  console.log(myPlacesQuery);\n                  cache.writeQuery({\n                    data: myPlacesQuery,\n                    query: MY_PLACES,\n                  });\n                }\n              }\n            }\n          }\n        },\n        variables: {\n          isFav: !fav,\n          placeId,\n        },\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <div>\n      <PlacesPresenter\n        name={name}\n        address={address}\n        fav={fav}\n        onClickFav={handleFav}\n      />\n    </div>\n  );\n};\n\nexport default PlaceContainer;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Header from '../../components/Header';\nimport Place from '../../components/Place';\nimport { myPlaces_GetMyPlaces_places } from '../../types/api';\n\nconst Container = styled.div`\n  padding: 0 40px;\n`;\n\nconst SLink = styled(Link)`\n  text-decoration: underline;\n`;\n\ninterface IProps {\n  places?: Array<myPlaces_GetMyPlaces_places | null> | null;\n  loading: boolean;\n}\n\nconst PlacesPresenter: React.SFC<IProps> = ({\n  places,\n  loading,\n}) => (\n  <React.Fragment>\n    <Helmet>\n      <title>Places | Number</title>\n    </Helmet>\n    <Header title={'Places'} backTo={'/'} />\n    <Container>\n      {!loading && places && places.length === 0 && (\n        <SLink to={'/add-place'}>You have no places</SLink>\n      )}\n      {!loading &&\n        places &&\n        places.map(place => (\n          <Place\n            key={place!.id}\n            placeId={place!.id}\n            fav={place!.isFav}\n            name={place!.name}\n            address={place!.address}\n          />\n        ))}\n      <SLink to={'/add-place'}>Add some places!</SLink>\n    </Container>\n  </React.Fragment>\n);\n\nexport default PlacesPresenter;\n","/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: toggleDriving\n// ====================================================\n\nexport interface toggleDriving_ToggleDrivingMode {\n  __typename: \"ToggleDrivingModeResponse\";\n  ok: boolean;\n  error: string | null;\n}\n\nexport interface toggleDriving {\n  ToggleDrivingMode: toggleDriving_ToggleDrivingMode;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: editPlace\n// ====================================================\n\nexport interface editPlace_EditPlace {\n  __typename: \"EditPlaceResponse\";\n  ok: boolean;\n  error: string | null;\n}\n\nexport interface editPlace {\n  EditPlace: editPlace_EditPlace;\n}\n\nexport interface editPlaceVariables {\n  placeId: number;\n  isFav: boolean;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: addPlace\n// ====================================================\n\nexport interface addPlace_AddPlace {\n  __typename: \"AddPlaceResponse\";\n  ok: boolean;\n  error: string | null;\n}\n\nexport interface addPlace {\n  AddPlace: addPlace_AddPlace;\n}\n\nexport interface addPlaceVariables {\n  name: string;\n  lat: number;\n  lng: number;\n  address: string;\n  isFav: boolean;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL query operation: getChat\n// ====================================================\n\nexport interface getChat_GetChat_chat_messages {\n  __typename: \"Message\";\n  id: number;\n  text: string;\n  userId: number;\n}\n\nexport interface getChat_GetChat_chat {\n  __typename: \"Chat\";\n  id: number;\n  passengerId: number;\n  driverId: number;\n  messages: (getChat_GetChat_chat_messages | null)[] | null;\n}\n\nexport interface getChat_GetChat {\n  __typename: \"GetChatResponse\";\n  ok: boolean;\n  error: string | null;\n  chat: getChat_GetChat_chat | null;\n}\n\nexport interface getChat {\n  GetChat: getChat_GetChat;\n}\n\nexport interface getChatVariables {\n  chatId: number;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: sendMessage\n// ====================================================\n\nexport interface sendMessage_SendChatMessage_message {\n  __typename: \"Message\";\n  id: number;\n  text: string;\n  userId: number;\n}\n\nexport interface sendMessage_SendChatMessage {\n  __typename: \"SendChatMessageResponse\";\n  ok: boolean;\n  error: string | null;\n  message: sendMessage_SendChatMessage_message | null;\n}\n\nexport interface sendMessage {\n  SendChatMessage: sendMessage_SendChatMessage;\n}\n\nexport interface sendMessageVariables {\n  text: string;\n  chatId: number;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL subscription operation: messageSubscription\n// ====================================================\n\nexport interface messageSubscription_MessageSubscription {\n  __typename: \"Message\";\n  id: number;\n  text: string;\n  userId: number;\n}\n\nexport interface messageSubscription {\n  MessageSubscription: messageSubscription_MessageSubscription | null;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: updateProfile\n// ====================================================\n\nexport interface updateProfile_UpdateMyProfile {\n  __typename: \"UpdateMyProfileResponse\";\n  ok: boolean;\n  error: string | null;\n}\n\nexport interface updateProfile {\n  UpdateMyProfile: updateProfile_UpdateMyProfile;\n}\n\nexport interface updateProfileVariables {\n  firstName: string;\n  lastName?: string | null;\n  email?: string | null;\n  profilePhoto?: string | null;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: emailSignIn\n// ====================================================\n\nexport interface emailSignIn_EmailSignIn {\n  __typename: \"EmailSignInResponse\";\n  ok: boolean;\n  error: string | null;\n  token: string | null;\n}\n\nexport interface emailSignIn {\n  EmailSignIn: emailSignIn_EmailSignIn;\n}\n\nexport interface emailSignInVariables {\n  email: string;\n  password: string;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: reportMovement\n// ====================================================\n\nexport interface reportMovement_ReportMovement {\n  __typename: \"ReportMovementResponse\";\n  ok: boolean;\n  error: string | null;\n}\n\nexport interface reportMovement {\n  ReportMovement: reportMovement_ReportMovement;\n}\n\nexport interface reportMovementVariables {\n  lat: number;\n  lng: number;\n  orientation?: number | null;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL query operation: getDrivers\n// ====================================================\n\nexport interface getDrivers_GetNearbyDrivers_drivers {\n  __typename: \"User\";\n  id: number;\n  lastLat: number | null;\n  lastLng: number | null;\n}\n\nexport interface getDrivers_GetNearbyDrivers {\n  __typename: \"GetNearbyDriversResponse\";\n  ok: boolean;\n  error: string | null;\n  drivers: (getDrivers_GetNearbyDrivers_drivers | null)[] | null;\n}\n\nexport interface getDrivers {\n  GetNearbyDrivers: getDrivers_GetNearbyDrivers;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: requestRide\n// ====================================================\n\nexport interface requestRide_RequestRide_ride {\n  __typename: \"Ride\";\n  id: number;\n}\n\nexport interface requestRide_RequestRide {\n  __typename: \"RequestRideResponse\";\n  ok: boolean;\n  error: string | null;\n  ride: requestRide_RequestRide_ride | null;\n}\n\nexport interface requestRide {\n  RequestRide: requestRide_RequestRide;\n}\n\nexport interface requestRideVariables {\n  pickUpAddress: string;\n  pickUpLat: number;\n  pickUpLng: number;\n  dropOffAddress: string;\n  dropOffLat: number;\n  dropOffLng: number;\n  price: number;\n  distance: string;\n  duration: string;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL query operation: getNearByRides\n// ====================================================\n\nexport interface getNearByRides_GetNearByRide_ride_passenger {\n  __typename: \"User\";\n  fullName: string;\n  profilePhoto: string | null;\n}\n\nexport interface getNearByRides_GetNearByRide_ride {\n  __typename: \"Ride\";\n  id: number;\n  pickUpAddress: string;\n  dropOffAddress: string;\n  price: number;\n  distance: string;\n  duration: string;\n  passenger: getNearByRides_GetNearByRide_ride_passenger;\n}\n\nexport interface getNearByRides_GetNearByRide {\n  __typename: \"GetNearByRideResponse\";\n  ok: boolean;\n  error: string | null;\n  ride: getNearByRides_GetNearByRide_ride | null;\n}\n\nexport interface getNearByRides {\n  GetNearByRide: getNearByRides_GetNearByRide;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: acceptRide\n// ====================================================\n\nexport interface acceptRide_UpdateRideStatus {\n  __typename: \"UpdateRideStatusResponse\";\n  ok: boolean;\n  error: string | null;\n}\n\nexport interface acceptRide {\n  UpdateRideStatus: acceptRide_UpdateRideStatus;\n}\n\nexport interface acceptRideVariables {\n  rideId: number;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL subscription operation: nearByRides\n// ====================================================\n\nexport interface nearByRides_NearByRideSubscription_passenger {\n  __typename: \"User\";\n  fullName: string;\n  profilePhoto: string | null;\n}\n\nexport interface nearByRides_NearByRideSubscription {\n  __typename: \"Ride\";\n  id: number;\n  pickUpAddress: string;\n  dropOffAddress: string;\n  price: number;\n  distance: string;\n  duration: string;\n  passenger: nearByRides_NearByRideSubscription_passenger;\n}\n\nexport interface nearByRides {\n  NearByRideSubscription: nearByRides_NearByRideSubscription | null;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: startPhoneVerification\n// ====================================================\n\nexport interface startPhoneVerification_StartPhoneVerification {\n  __typename: \"StartPhoneVerificationResponse\";\n  ok: boolean;\n  error: string | null;\n}\n\nexport interface startPhoneVerification {\n  StartPhoneVerification: startPhoneVerification_StartPhoneVerification;\n}\n\nexport interface startPhoneVerificationVariables {\n  phoneNumber: string;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL query operation: getRide\n// ====================================================\n\nexport interface getRide_GetRide_ride_driver {\n  __typename: \"User\";\n  id: number;\n  fullName: string;\n  profilePhoto: string | null;\n}\n\nexport interface getRide_GetRide_ride_passenger {\n  __typename: \"User\";\n  id: number;\n  fullName: string;\n  profilePhoto: string | null;\n}\n\nexport interface getRide_GetRide_ride {\n  __typename: \"Ride\";\n  status: string;\n  pickUpAddress: string;\n  dropOffAddress: string;\n  price: number;\n  distance: string;\n  duration: string;\n  driver: getRide_GetRide_ride_driver | null;\n  passenger: getRide_GetRide_ride_passenger;\n  chatId: number | null;\n}\n\nexport interface getRide_GetRide {\n  __typename: \"GetRideResponse\";\n  ok: boolean;\n  error: string | null;\n  ride: getRide_GetRide_ride | null;\n}\n\nexport interface getRide {\n  GetRide: getRide_GetRide;\n}\n\nexport interface getRideVariables {\n  rideId: number;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL subscription operation: rideUpdates\n// ====================================================\n\nexport interface rideUpdates_RideStatusSubscription_driver {\n  __typename: \"User\";\n  id: number;\n  fullName: string;\n  profilePhoto: string | null;\n}\n\nexport interface rideUpdates_RideStatusSubscription_passenger {\n  __typename: \"User\";\n  id: number;\n  fullName: string;\n  profilePhoto: string | null;\n}\n\nexport interface rideUpdates_RideStatusSubscription {\n  __typename: \"Ride\";\n  status: string;\n  pickUpAddress: string;\n  dropOffAddress: string;\n  price: number;\n  distance: string;\n  duration: string;\n  driver: rideUpdates_RideStatusSubscription_driver | null;\n  passenger: rideUpdates_RideStatusSubscription_passenger;\n  chatId: number | null;\n}\n\nexport interface rideUpdates {\n  RideStatusSubscription: rideUpdates_RideStatusSubscription | null;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: updateRide\n// ====================================================\n\nexport interface updateRide_UpdateRideStatus {\n  __typename: \"UpdateRideStatusResponse\";\n  ok: boolean;\n  error: string | null;\n}\n\nexport interface updateRide {\n  UpdateRideStatus: updateRide_UpdateRideStatus;\n}\n\nexport interface updateRideVariables {\n  rideId: number;\n  status: StatusOption;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: facebookConnect\n// ====================================================\n\nexport interface facebookConnect_FacebookConnect {\n  __typename: \"FacebookConnectResponse\";\n  ok: boolean;\n  error: string | null;\n  token: string | null;\n}\n\nexport interface facebookConnect {\n  FacebookConnect: facebookConnect_FacebookConnect;\n}\n\nexport interface facebookConnectVariables {\n  firstName: string;\n  lastName: string;\n  email?: string | null;\n  fbId: string;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL mutation operation: verifyPhone\n// ====================================================\n\nexport interface verifyPhone_CompletePhoneVerification {\n  __typename: \"CompletePhoneVerificationResponse\";\n  ok: boolean;\n  error: string | null;\n  token: string | null;\n}\n\nexport interface verifyPhone {\n  CompletePhoneVerification: verifyPhone_CompletePhoneVerification | null;\n}\n\nexport interface verifyPhoneVariables {\n  key: string;\n  phoneNumber: string;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL query operation: userProfile\n// ====================================================\n\nexport interface userProfile_GetMyProfile_user {\n  __typename: \"User\";\n  id: number;\n  firstName: string;\n  lastName: string;\n  email: string | null;\n  profilePhoto: string | null;\n  fullName: string;\n  isDriving: boolean;\n}\n\nexport interface userProfile_GetMyProfile {\n  __typename: \"GetMyProfileResponse\";\n  ok: boolean;\n  error: string | null;\n  user: userProfile_GetMyProfile_user | null;\n}\n\nexport interface userProfile {\n  GetMyProfile: userProfile_GetMyProfile;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL query operation: myPlaces\n// ====================================================\n\nexport interface myPlaces_GetMyPlaces_places {\n  __typename: \"Place\";\n  id: number;\n  name: string;\n  address: string;\n  isFav: boolean;\n}\n\nexport interface myPlaces_GetMyPlaces {\n  __typename: \"GetMyPlacesResponse\";\n  ok: boolean;\n  error: string | null;\n  places: (myPlaces_GetMyPlaces_places | null)[] | null;\n}\n\nexport interface myPlaces {\n  GetMyPlaces: myPlaces_GetMyPlaces;\n}\n\n/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum StatusOption {\n  ACCEPTED = \"ACCEPTED\",\n  CANCELED = \"CANCELED\",\n  FINISHED = \"FINISHED\",\n  ONROUTE = \"ONROUTE\",\n  REQUESTING = \"REQUESTING\",\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import { useQuery } from '@apollo/react-hooks';\nimport React from 'react';\nimport { MY_PLACES } from '../../sharedQueries';\nimport { myPlaces } from '../../types/api';\nimport PlacesPresenter from './PlacesPresenter';\n\nconst PlacesContainer = () => {\n  const { data, loading } = useQuery<myPlaces>(MY_PLACES);\n\n  return (\n    <PlacesPresenter\n      places={data && data.GetMyPlaces.places}\n      loading={loading}\n    />\n  );\n};\n\nexport default PlacesContainer;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Button from '../../components/Button';\nimport {\n  getRide_GetRide_ride,\n  StatusOption,\n  userProfile_GetMyProfile_user,\n} from '../../types/api';\n\nconst Container = styled.div`\n  padding: 40px;\n`;\n\nconst Title = styled.h4`\n  font-weight: 800;\n  margin-top: 30px;\n  margin-bottom: 10px;\n  &:first-child {\n    margin-top: 0;\n  }\n`;\n\nconst Data = styled.span`\n  color: ${props => props.theme.blue};\n`;\n\nconst Img = styled.img`\n  border-radius: 50%;\n  margin-right: 20px;\n  max-width: 50px;\n  height: 50px;\n`;\n\nconst Passenger = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n`;\n\nconst Buttons = styled.div`\n  margin: 30px 0;\n`;\n\nconst ExtendedButton = styled(Button)`\n  margin-bottom: 30px;\n`;\n\ninterface IProps {\n  rideData?: getRide_GetRide_ride | null;\n  userData?: userProfile_GetMyProfile_user | null;\n  loading: boolean;\n  updateRide: (status: any) => Promise<void>;\n}\n\nconst RidePresenter: React.FC<IProps> = ({\n  rideData,\n  userData,\n  updateRide,\n}) => {\n  const isDriver =\n    rideData &&\n    rideData.driver &&\n    userData &&\n    rideData.driver.id === userData.id;\n  const isPassenger =\n    rideData && userData && rideData.passenger.id === userData.id;\n\n  return (\n    <Container>\n      {rideData && userData && (\n        <React.Fragment>\n          <Title>Passenger</Title>\n          <Passenger>\n            <Img src={rideData.passenger.profilePhoto!} />\n            <Data>{rideData.passenger.fullName!}</Data>\n          </Passenger>\n          {rideData.driver && (\n            <React.Fragment>\n              <Title>Driver</Title>\n              <Passenger>\n                <Img src={rideData.driver.profilePhoto!} />\n                <Data>{rideData.driver.fullName!}</Data>\n              </Passenger>\n            </React.Fragment>\n          )}\n          <Title>From</Title>\n          <Data>{rideData.pickUpAddress}</Data>\n          <Title>To</Title>\n          <Data>{rideData.dropOffAddress}</Data>\n          <Title>Price</Title>\n          <Data>{rideData.price}</Data>\n          <Title>Distance</Title>\n          <Data>{rideData.distance}</Data>\n          <Title>Duration</Title>\n          <Data>{rideData.duration}</Data>\n          <Title>Status</Title>\n          <Data>{rideData.status}</Data>\n          <Buttons>\n            {isDriver && rideData.status === 'ACCEPTED' && (\n              <ExtendedButton onClick={() => updateRide(StatusOption.ONROUTE)}>\n                Picked Up\n              </ExtendedButton>\n            )}\n            {isDriver &&\n              rideData.status === 'ONROUTE' && (\n                <ExtendedButton\n                  onClick={() => updateRide(StatusOption.FINISHED)}\n                >\n                  Finished\n                </ExtendedButton>\n              )}\n            {(isDriver || isPassenger) && rideData.status === 'ACCEPTED' && (\n              <Link to={`/chat/${rideData.chatId}`}>\n                <ExtendedButton onClick={null}>Chat</ExtendedButton>\n              </Link>\n            )}\n          </Buttons>\n        </React.Fragment>\n      )}\n    </Container>\n  );\n};\n\nexport default RidePresenter;\n","import { gql } from 'apollo-boost';\n\nexport const GET_RIDE = gql`\n    query getRide (\n        $rideId: Int!\n    ) {\n        GetRide(\n            rideId: $rideId\n        ) {\n            ok\n            error\n            ride {\n                status\n                pickUpAddress\n                dropOffAddress\n                price\n                distance\n                duration\n                driver {\n                    id\n                    fullName\n                    profilePhoto\n                }\n                passenger {\n                    id\n                    fullName\n                    profilePhoto\n                }\n                chatId\n            }\n        }\n    }\n`;\n\nexport const RIDE_SUBSCRIPTION = gql`\n    subscription rideUpdates {\n        RideStatusSubscription {\n            status\n            pickUpAddress\n            dropOffAddress\n            price\n            distance\n            duration\n            driver {\n                id\n                fullName\n                profilePhoto\n            }\n            passenger {\n                id\n                fullName\n                profilePhoto\n            }\n            chatId\n        }\n    }\n`;\n\nexport const UPDATE_RIDE_STATUS = gql`\n    mutation updateRide(\n        $rideId: Int!\n        $status: StatusOption!\n    ) {\n        UpdateRideStatus(\n            rideId: $rideId\n            status: $status\n        ) {\n            ok\n            error\n        }\n    }\n`;","import { useMutation, useQuery } from '@apollo/react-hooks';\nimport _ from 'lodash';\nimport React, { useEffect } from 'react';\nimport { RouteComponentProps, useParams } from 'react-router-dom';\nimport Loader from '../../components/Loader';\nimport { USER_PROFILE } from '../../sharedQueries';\nimport {\n  getRide,\n  getRideVariables,\n  StatusOption,\n  updateRide,\n  updateRideVariables,\n  userProfile,\n} from '../../types/api';\nimport RidePresenter from './RidePresenter';\nimport { GET_RIDE, RIDE_SUBSCRIPTION, UPDATE_RIDE_STATUS } from './RideQueries';\n\nconst RideContainer: React.FC<RouteComponentProps> = ({ history }) => {\n  const { rideId } = useParams();\n  const { data: userData } = useQuery<userProfile>(USER_PROFILE);\n  const { data: rideData, loading, subscribeToMore } = useQuery<\n    any,\n    getRideVariables\n  >(GET_RIDE, {\n    skip: !rideId,\n    variables: {\n      rideId: parseInt(rideId!, 10),\n    },\n  });\n  const [rideUpdateMutation] = useMutation<updateRide, updateRideVariables>(\n    UPDATE_RIDE_STATUS,\n  );\n\n  useEffect(() => {\n    if (!rideId) {\n      history.push('/');\n    }\n  }, [rideId, history]);\n\n  useEffect(() => {\n    if (rideData) {\n      subscribeToMore({\n        document: RIDE_SUBSCRIPTION,\n        updateQuery: (prev, { subscriptionData }) => {\n          if (subscriptionData.data) {\n            const newObj: getRide = _.cloneDeep(prev);\n            newObj.GetRide.ride = subscriptionData.data.RideStatusSubscription;\n            return newObj;\n          } else {\n            return prev;\n          }\n        },\n      });\n    }\n  }, [rideData, subscribeToMore]);\n\n  useEffect(() => {\n    console.log(rideData);\n    if (rideData && rideData.GetRide.ride.status === 'FINISHED') {\n      window.location.href = '/';\n    }\n  }, [rideData, history]);\n\n  const handleUpdateRide = async (status: StatusOption) => {\n    if (rideId) {\n      const intRideId = parseInt(rideId, 10);\n      await rideUpdateMutation({\n        refetchQueries: [\n          {\n            query: GET_RIDE,\n            variables: {\n              rideId: intRideId,\n            },\n          },\n        ],\n        variables: {\n          rideId: intRideId,\n          status,\n        },\n      });\n    }\n  };\n\n  return (\n    <>\n      <RidePresenter\n        userData={userData && userData.GetMyProfile.user}\n        rideData={rideData && rideData.GetRide.ride}\n        updateRide={handleUpdateRide}\n        loading={loading}\n      />\n      {loading && <Loader />}\n    </>\n  );\n};\n\nexport default RideContainer;\n","import { gql } from 'apollo-boost';\n\nexport const LOG_USER_IN = gql`\n    mutation logUserIn($token: String!) {\n        logUserIn(token: $token) @client\n    }\n`;\n\nexport const LOG_USER_OUT = gql`\n    mutation logUserOut {\n        logUserOut @client\n    }\n`;","import React from 'react';\nimport Helmet from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Header from '../../components/Header';\nimport Place from '../../components/Place';\nimport {\n  myPlaces_GetMyPlaces_places,\n  userProfile_GetMyProfile_user,\n} from '../../types/api';\n\nconst Container = styled.div`\n  padding: 0 40px;\n`;\n\nconst Image = styled.img`\n  height: 60px;\n  width: 60px;\n  border-radius: 50%;\n`;\n\nconst GridLink = styled(Link)`\n  display: grid;\n  grid-template-columns: 1fr 4fr;\n  grid-gap: 10px;\n  margin-bottom: 10px;\n`;\n\nconst Keys = styled.div``;\n\nconst Key = styled.span`\n  display: block;\n  margin-bottom: 5px;\n`;\n\nconst FakeLink = styled.span`\n  text-decoration: underline;\n  cursor: pointer;\n`;\n\nconst SLink = styled(Link)`\n  display: block;\n  text-decoration: underline;\n  margin: 20px 0;\n`;\n\ninterface IProps {\n  logUserOut: () => void;\n  userData?: userProfile_GetMyProfile_user | null;\n  placesData?: Array<myPlaces_GetMyPlaces_places | null> | null;\n  userDataLoading: boolean;\n  placesDataLoading: boolean;\n}\n\nconst SettingsPresenter: React.FC<IProps> = ({\n  logUserOut,\n  userData,\n  placesData,\n  userDataLoading,\n  placesDataLoading,\n}) => (\n  <React.Fragment>\n    <Helmet>\n      <title>Settings | Nuber</title>\n    </Helmet>\n    <Header title={'Account Settings'} backTo={'/'} />\n    <Container>\n      <GridLink to={'/edit-account'}>\n        {!userDataLoading &&\n          userData &&\n          userData.profilePhoto &&\n          userData.email &&\n          userData.fullName && (\n            <>\n              <Image src={userData.profilePhoto} />\n              <Keys>\n                <Key>{userData.fullName}</Key>\n                <Key>{userData.email}</Key>\n              </Keys>\n            </>\n          )}\n      </GridLink>\n      {!placesDataLoading &&\n        placesData &&\n        placesData.map((place: myPlaces_GetMyPlaces_places | null) => (\n          <Place\n            key={place!.id}\n            placeId={place!.id}\n            fav={place!.isFav}\n            name={place!.name}\n            address={place!.address}\n          />\n        ))}\n      <SLink to={'/places'}>Go to Places</SLink>\n      <FakeLink onClick={logUserOut as any}>Log Out</FakeLink>\n    </Container>\n  </React.Fragment>\n);\n\nexport default SettingsPresenter;\n","import { useMutation, useQuery } from '@apollo/react-hooks';\nimport React from 'react';\nimport { MY_PLACES, USER_PROFILE } from '../../sharedQueries';\nimport { LOG_USER_OUT } from '../../sharedQueries.local';\nimport { myPlaces, userProfile } from '../../types/api';\nimport SettingsPresenter from './SettingsPresenter';\n\nconst SettingsContainer: React.FC = () => {\n  const [logoutMutation] = useMutation(LOG_USER_OUT);\n  const { data: userData, loading: userLoading } = useQuery<userProfile>(USER_PROFILE);\n  const { data: placesData, loading: placesLoading } = useQuery<myPlaces>(MY_PLACES);\n\n  console.log('updated, ', placesData);\n\n  return (\n    <SettingsPresenter\n      userData={userData && userData.GetMyProfile.user}\n      userDataLoading={userLoading}\n      placesData={placesData && placesData.GetMyPlaces.places}\n      placesDataLoading={placesLoading}\n      logUserOut={logoutMutation}\n    />\n  );\n};\n\nexport default SettingsContainer;","import React from 'react';\n// @ts-ignore\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport Helmet from 'react-helmet';\nimport styled from 'styled-components';\nimport BackArrow from '../../components/BackArrow';\n\nconst Container = styled.div`\n  margin-top: 30px;\n  padding: 50px 20px;\n`;\n\nconst Title = styled.h2`\n  font-size: 25px;\n  margin-bottom: 40px;\n`;\n\nconst Link = styled.span`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n`;\n\nconst Icon = styled.span`\n  margin-right: 10px;\n`;\n\nconst BackArrowExtended = styled(BackArrow)`\n  position: absolute;\n  top: 20px;\n  left: 20px;\n`;\n\ninterface IProps {\n  loginCallback: any;\n}\n\nconst SocialLoginPresenter: React.FunctionComponent<IProps> = ({\n  loginCallback,\n}) => (\n  <Container>\n    <Helmet>\n      <title>Social Login | Nuber</title>\n    </Helmet>\n    <Title>Choose an account</Title>\n    <BackArrowExtended backTo={'/'} />\n    <FacebookLogin\n      appId=\"1223993451141024\"\n      fields=\"name,email,picture\"\n      callback={loginCallback}\n      render={(renderProps: any) => (\n        <Link onClick={renderProps.onClick}>\n          <Icon>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 24 24\"\n              fill=\"#344EA1\"\n            >\n              <path d=\"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z\" />\n            </svg>\n          </Icon>\n          Facebook\n        </Link>\n      )}\n    />\n  </Container>\n);\n\nexport default SocialLoginPresenter;\n","import { gql } from 'apollo-boost';\n\nexport const FACEBOOK_CONNECT = gql`\n    mutation facebookConnect(\n        $firstName: String!\n        $lastName: String!\n        $email: String\n        $fbId: String!\n    ) {\n        FacebookConnect(\n            firstName: $firstName\n            lastName: $lastName\n            email: $email\n            fbId: $fbId\n        ) {\n            ok\n            error\n            token\n        }\n    }\n`;","import { useMutation } from '@apollo/react-hooks';\nimport React from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { ILogUserInVariables } from '../../apollo';\nimport Loader from '../../components/Loader';\nimport { LOG_USER_IN } from '../../sharedQueries.local';\nimport { facebookConnect, facebookConnectVariables } from '../../types/api';\nimport SocialLoginPresenter from './SocialLoginPresenter';\nimport { FACEBOOK_CONNECT } from './SocialLoginQueries';\n\nconst SocialLoginContainer: React.FunctionComponent<\n  RouteComponentProps\n> = ({ history }) => {\n  const [facebookMutation, { loading }] = useMutation<\n    facebookConnect,\n    facebookConnectVariables\n  >(FACEBOOK_CONNECT);\n  const [loginMutation] = useMutation<any, ILogUserInVariables>(LOG_USER_IN);\n\n  const handleFacebookConnect = async (userInfo: any) => {\n    if (userInfo.accessToken) {\n      try {\n        const { data } = await facebookMutation({\n          variables: {\n            email: userInfo.email,\n            fbId: userInfo.userID,\n            firstName: userInfo.name,\n            lastName: userInfo.name,\n          },\n        });\n\n        console.log(data);\n        if (data && data.FacebookConnect) {\n          if (data.FacebookConnect.ok) {\n            if (data.FacebookConnect.token) {\n              await loginMutation({\n                variables: { token: data.FacebookConnect.token },\n              });\n              toast.success(`Welcome ${userInfo.name}`);\n              history.replace('/');\n            }\n          } else {\n            toast.error(data.FacebookConnect.error);\n          }\n        }\n      } catch (e) {\n        toast.error(e.message);\n      }\n    } else {\n      toast.error('Could not log you in 😞');\n    }\n  };\n\n  return (\n    <>\n      <SocialLoginPresenter loginCallback={handleFacebookConnect} />\n      {loading && <Loader />}\n    </>\n  );\n};\n\nexport default SocialLoginContainer;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport styled from 'styled-components';\nimport Button from '../../components/Button';\nimport Form from '../../components/Form';\nimport Header from '../../components/Header';\nimport Input from '../../components/Input';\n\nconst Container = styled.div``;\n\nconst ExtendedForm = styled(Form)`\n  padding: 0 40px;\n`;\n\nconst ExtendedInput = styled(Input)`\n  margin-bottom: 20px;\n`;\n\ninterface IProps {\n  verificationKey: string;\n  onChange: any;\n  onSubmit: any;\n}\n\nconst VerifyPhonePresenter: React.FunctionComponent<IProps> = ({\n  verificationKey,\n  onChange,\n  onSubmit,\n}) => (\n  <Container>\n    <Helmet>\n      <title>Verify Phone | Number</title>\n    </Helmet>\n    <Header backTo={'/phone-login'} title={'Verify Phone Number'} />\n    <ExtendedForm onSubmit={onSubmit}>\n      <ExtendedInput\n        value={verificationKey}\n        placeholder={'Enter Verification Code'}\n        onChange={onChange}\n      />\n      <Button type=\"submit\">Submit</Button>\n    </ExtendedForm>\n  </Container>\n);\n\nexport default VerifyPhonePresenter;\n","import { gql } from 'apollo-boost';\n\nexport const VERIFY_PHONE = gql`\n  mutation verifyPhone($key: String!, $phoneNumber: String!) {\n    CompletePhoneVerification(key: $key, phoneNumber: $phoneNumber) {\n      ok\n      error\n      token\n    }\n  }\n`;\n","import { useMutation } from '@apollo/react-hooks';\nimport React, { useState } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Loader from '../../components/Loader';\nimport { LOG_USER_IN } from '../../sharedQueries.local';\nimport { verifyPhone, verifyPhoneVariables } from '../../types/api';\nimport VerifyPhonePresenter from './VerifyPhonePresenter';\nimport { VERIFY_PHONE } from './VerifyPhoneQueries';\n\nconst VerifyPhoneContainer: React.FunctionComponent<RouteComponentProps> = ({\n  location,\n  history,\n}) => {\n  if (!location.state || !location.state.phoneNumber) {\n    history.replace('/');\n  }\n\n  const [key, setKey] = useState<string>('');\n  const [verifyMutation, { loading }] = useMutation<\n    verifyPhone,\n    verifyPhoneVariables\n  >(VERIFY_PHONE, {\n    variables: { key, phoneNumber: location.state.phoneNumber },\n  });\n  const [loginMutation] = useMutation(LOG_USER_IN);\n\n  const handleInput: React.ChangeEventHandler<HTMLInputElement> = ({\n    target,\n  }) => {\n    setKey(target.value);\n  };\n\n  const handleSubmit: React.FormEventHandler = async event => {\n    try {\n      const { data } = await verifyMutation();\n\n      if (data && data.CompletePhoneVerification) {\n        const { CompletePhoneVerification } = data;\n\n        if (CompletePhoneVerification.ok) {\n          if (CompletePhoneVerification.token) {\n            toast.success(\"You're verified, login now\");\n            await loginMutation({\n              variables: { token: CompletePhoneVerification.token },\n            });\n            history.replace('/');\n          } else {\n            console.log('profile 화면으로 이동하여 계속 진행');\n          }\n        } else {\n          toast.error(CompletePhoneVerification.error);\n        }\n      }\n      console.log(data);\n    } catch (e) {\n      toast.error(e.message);\n    }\n  };\n\n  return (\n    <div>\n      <VerifyPhonePresenter\n        verificationKey={key}\n        onChange={handleInput}\n        onSubmit={handleSubmit}\n      />\n      {loading && <Loader />}\n    </div>\n  );\n};\n\nexport default VerifyPhoneContainer;\n","import React from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport AddPlace from '../../routes/AddPlace';\nimport Chat from '../../routes/Chat';\nimport EditAccount from '../../routes/EditAccount';\nimport EmailLogin from '../../routes/EmailLogin';\nimport FindAddress from '../../routes/FindAddress';\nimport Home from '../../routes/Home';\nimport Login from '../../routes/Login';\nimport PhoneLogin from '../../routes/PhoneLogin';\nimport Places from '../../routes/Places';\nimport Ride from '../../routes/Ride';\nimport Settings from '../../routes/Settings';\nimport SocialLogin from '../../routes/SocialLogin';\nimport VerifyPhone from '../../routes/VerifyPhone';\n\ninterface IProp {\n  isLoggedIn: boolean;\n}\n\nconst AppPresenter:React.FunctionComponent<IProp> = ({ isLoggedIn }) => (\n  <HashRouter>\n    {isLoggedIn ? <LoggedInRoutes /> : <LoggedOutRoutes />}\n  </HashRouter>\n);\n\nconst LoggedOutRoutes:React.FunctionComponent = () => (\n  <Switch>\n    <Route path=\"/\" exact={true} component={Login} />\n    <Route path=\"/phone-login\" component={PhoneLogin} />\n    <Route path=\"/verify-phone\" component={VerifyPhone} />\n    <Route path=\"/social-login\" component={SocialLogin} />\n    <Route path=\"/email-login\" component={EmailLogin} />\n    {/*<Redirect from={\"*\"} to=\"/\" />*/}\n  </Switch>\n);\n\nconst LoggedInRoutes:React.FunctionComponent = () => (\n  <Switch>\n    <Route path=\"/\" exact={true} component={Home} />\n    <Route path=\"/ride/:rideId?\" component={Ride} />\n    <Route path=\"/chat/:chatId?\" component={Chat} />\n    <Route path=\"/edit-account\" component={EditAccount} />\n    <Route path=\"/settings\" component={Settings} />\n    <Route path=\"/places\" component={Places} />\n    <Route path=\"/add-place\" component={AddPlace} />\n    <Route path=\"/find-address\" component={FindAddress} />\n    {/*<Redirect from={\"*\"} to=\"/\" />*/}\n  </Switch>\n);\n\nexport default AppPresenter;","import { gql } from \"apollo-boost\";\n\nexport const IS_LOGGED_IN = gql`\n    {\n        auth {\n            isLoggedIn @client\n        }\n    }\n`;\n","import { useQuery } from '@apollo/react-hooks';\nimport React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport { ThemeProvider } from 'styled-components';\nimport GlobalStyle from '../../style/global-style';\nimport { theme } from '../../style/theme';\nimport AppPresenter from './AppPresenter';\nimport { IS_LOGGED_IN } from './AppQueries.local';\n\nconst AppContainer = (): React.FunctionComponentElement<any> => {\n  const { data } = useQuery(IS_LOGGED_IN);\n  return (\n    <>\n      <GlobalStyle />\n      <ThemeProvider theme={theme}>\n        <AppPresenter isLoggedIn={data.auth.isLoggedIn} />\n      </ThemeProvider>\n      <ToastContainer draggable={true} position=\"bottom-center\" />\n    </>\n  );\n};\n\nexport default AppContainer;\n","import { ApolloProvider } from '@apollo/react-hooks';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport client from './apollo';\nimport App from './components/App';\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/bg.f1662d11.png\";"],"sourceRoot":""}